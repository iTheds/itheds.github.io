<!DOCTYPE html>
<html lang="en">
    <!-- title -->


    

<!-- keywords -->



<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="author" content="iTheds">
    <meta name="renderer" content="webkit">
    <meta name="copyright" content="iTheds">
    
        <meta name="keywords" content="hexo,hexo-theme,hexo-blog">
    
    <meta name="description" content="">
    <meta name="description" content="远程访问模块项目文档记录于7月9日，至此日，仅有ODBC与C++插件。记录于8月18日，不需要体现工作量，应该重点将工作内容描述清楚。记录于10月15日，目前已经编写完成基本功能。记录于2022年1月10日，自从过第一个节点之后很少去了解这个项目了。目前需要进行完善。 一、需求分析(模块目标) 远程访问模块为目前DB的模块，负责远程通信。  对远程程序提供访问服务，可以适应C&#x2F;C++，O">
<meta property="og:type" content="website">
<meta property="og:title" content="远程访问模块项目文档">
<meta property="og:url" content="http://itheds.github.io/work/%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE%E6%A8%A1%E5%9D%97%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A3.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="远程访问模块项目文档记录于7月9日，至此日，仅有ODBC与C++插件。记录于8月18日，不需要体现工作量，应该重点将工作内容描述清楚。记录于10月15日，目前已经编写完成基本功能。记录于2022年1月10日，自从过第一个节点之后很少去了解这个项目了。目前需要进行完善。 一、需求分析(模块目标) 远程访问模块为目前DB的模块，负责远程通信。  对远程程序提供访问服务，可以适应C&#x2F;C++，O">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://itheds.github.io/ODBC_Research%5CODBC%E6%A6%82%E8%A6%81%E8%AE%BE%E8%AE%A1.png">
<meta property="article:published_time" content="2021-06-12T16:00:00.000Z">
<meta property="article:modified_time" content="2022-03-31T01:42:37.861Z">
<meta property="article:author" content="iTheds">
<meta property="article:tag" content="-- C&#x2F;C++ -- ODBC">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://itheds.github.io/ODBC_Research%5CODBC%E6%A6%82%E8%A6%81%E8%AE%BE%E8%AE%A1.png">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="icon" href="/assets/favicon.ico">
    
    <title>远程访问模块项目文档 · iTheds&#39;s Studio</title>
    <!-- /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
/* This file is meant as a standalone workflow for
- testing support for link[rel=preload]
- enabling async CSS loading in browsers that do not support rel=preload
- applying rel preload css once loaded, whether supported or not.
*/ -->
<script>
    (function (w) {
        'use strict'
        // rel=preload support test
        if (!w.loadCSS) {
            w.loadCSS = function () {}
        }
        // define on the loadCSS obj
        var rp = (loadCSS.relpreload = {})
        // rel=preload feature support test
        // runs once and returns a function for compat purposes
        rp.support = (function () {
            var ret
            try {
                ret = w.document.createElement('link').relList.supports('preload')
            } catch (e) {
                ret = false
            }
            return function () {
                return ret
            }
        })()

        // if preload isn't supported, get an asynchronous load by using a non-matching media attribute
        // then change that media back to its intended value on load
        rp.bindMediaToggle = function (link) {
            // remember existing media attr for ultimate state, or default to 'all'
            var finalMedia = link.media || 'all'

            function enableStylesheet() {
                link.media = finalMedia
            }

            // bind load handlers to enable media
            if (link.addEventListener) {
                link.addEventListener('load', enableStylesheet)
            } else if (link.attachEvent) {
                link.attachEvent('onload', enableStylesheet)
            }

            // Set rel and non-applicable media type to start an async request
            // note: timeout allows this to happen async to let rendering continue in IE
            setTimeout(function () {
                link.rel = 'stylesheet'
                link.media = 'only x'
            })
            // also enable media after 3 seconds,
            // which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
            setTimeout(enableStylesheet, 3000)
        }

        // loop through link elements in DOM
        rp.poly = function () {
            // double check this to prevent external calls from running
            if (rp.support()) {
                return
            }
            var links = w.document.getElementsByTagName('link')
            for (var i = 0; i < links.length; i++) {
                var link = links[i]
                // qualify links to those with rel=preload and as=style attrs
                if (
                    link.rel === 'preload' &&
                    link.getAttribute('as') === 'style' &&
                    !link.getAttribute('data-loadcss')
                ) {
                    // prevent rerunning on link
                    link.setAttribute('data-loadcss', true)
                    // bind listeners to toggle media back
                    rp.bindMediaToggle(link)
                }
            }
        }

        // if unsupported, run the polyfill
        if (!rp.support()) {
            // run once at least
            rp.poly()

            // rerun poly on an interval until onload
            var run = w.setInterval(rp.poly, 500)
            if (w.addEventListener) {
                w.addEventListener('load', function () {
                    rp.poly()
                    w.clearInterval(run)
                })
            } else if (w.attachEvent) {
                w.attachEvent('onload', function () {
                    rp.poly()
                    w.clearInterval(run)
                })
            }
        }

        // commonjs
        if (typeof exports !== 'undefined') {
            exports.loadCSS = loadCSS
        } else {
            w.loadCSS = loadCSS
        }
    })(typeof global !== 'undefined' ? global : this)
</script>

    <style type="text/css">
    @font-face {
        font-family: 'Oswald-Regular';
        src: url("/font/Oswald-Regular.ttf");
    }

    body {
        margin: 0;
    }

    header,
    footer,
    .back-top,
    .sidebar,
    .container,
    .site-intro-meta,
    .toc-wrapper {
        display: none;
    }

    .site-intro {
        position: relative;
        z-index: 3;
        width: 100%;
        /* height: 50vh; */
        overflow: hidden;
    }

    .site-intro-placeholder {
        position: absolute;
        z-index: -2;
        top: 0;
        left: 0;
        width: calc(100% + 300px);
        height: 100%;
        background: repeating-linear-gradient(-45deg, #444 0, #444 80px, #333 80px, #333 160px);
        background-position: center center;
        transform: translate3d(-226px, 0, 0);
        animation: gradient-move 2.5s ease-out 0s infinite;
    }

    @keyframes gradient-move {
        0% {
            transform: translate3d(-226px, 0, 0);
        }
        100% {
            transform: translate3d(0, 0, 0);
        }
    }
</style>

    <link rel="preload" href="/css/style.css?v=20211217" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="/css/dark.css?v=20211217" as="style">
    <link rel="stylesheet" href="/css/dark.css">
    <link rel="stylesheet" href="/css/mobile.css?v=20211217" media="(max-width: 960px)">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" as="script">
    <link rel="preload" href="/scripts/main.js?v=20211217" as="script">
    <link rel="preload" href="/scripts/dark.js?v=20211217" as="script">
    <link rel="preload" href="/font/Oswald-Regular.ttf" as="font" crossorigin>
    <link rel="preload" href="https://at.alicdn.com/t/font_327081_1dta1rlogw17zaor.woff" as="font" crossorigin>
    <!-- algolia -->
    
    <!-- 百度统计  -->
    
    <!-- 谷歌统计  -->
    
<meta name="generator" content="Hexo 6.3.0"></head>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script type="text/javascript">
        if (typeof window.$ == undefined) {
            console.warn('jquery load from jsdelivr failed, will load local script')
            document.write('<script src="/lib/jquery.min.js" />')
        }
    </script>
    
        <!-- header -->
        <header class="header header-mobile">
    <!-- top read progress line -->
    <div class="header-element">
        <div class="read-progress"></div>
    </div>
    <!-- sidebar menu button -->
    <div class="header-element">
        
            <div class="header-sidebar-menu">
        
            
                <div style="padding-left: 1px;">&#xe775;</div>
            
        </div>
    </div>
    <!-- header actions -->
    <div class="header-actions">
        <!-- theme mode switch button -->
        <span class="header-theme-btn header-element">
            <i class="fas fa-adjust"></i>
        </span>
        <!-- back to home page text -->
        <span class="home-link header-element">
            <a href=/>iTheds's Studio.</a>
        </span>
    </div>
    <!-- toggle banner for post layout -->
    
</header>

        <!-- fixed footer -->
        <footer class="footer-fixed">
    <!-- back to top button -->
    <div class="footer-fixed-element">
        
            <div class="back-top back-top-hidden">
        
        
            <div>&#xe639;</div>
        
        </div>
    </div>
</footer>

        <!-- wrapper -->
        <div class="wrapper">
            <div class="site-intro" style="







">
    
    <!-- 主页  -->
    
    <div class="site-intro-placeholder"></div>
    <div class="site-intro-img" style="background-image: url(/)"></div>
    <div class="site-intro-meta">
        <!-- 标题  -->
        <h1 class="intro-title">
            <!-- 主页  -->
            
        </h1>
        <!-- 副标题 -->
        <p class="intro-subtitle">
            <!-- 主页副标题  -->
            
        </p>
        <!-- 文章页 meta -->
        
    </div>
</div>

            <script>
  // get user agent
  function getBrowserVersions() {
    var u = window.navigator.userAgent
    return {
      userAgent: u,
      trident: u.indexOf('Trident') > -1, //IE内核
      presto: u.indexOf('Presto') > -1, //opera内核
      webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
      gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核
      mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
      ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
      android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器
      iPhone: u.indexOf('iPhone') > -1 || u.indexOf('Mac') > -1, //是否为iPhone或者安卓QQ浏览器
      iPad: u.indexOf('iPad') > -1, //是否为iPad
      webApp: u.indexOf('Safari') == -1, //是否为web应用程序，没有头部与底部
      weixin: u.indexOf('MicroMessenger') == -1, //是否为微信浏览器
      uc: u.indexOf('UCBrowser') > -1, //是否为android下的UC浏览器
    }
  }
  var browser = {
    versions: getBrowserVersions(),
  }
  console.log('userAgent: ' + browser.versions.userAgent)

  // callback
  function fontLoaded() {
    console.log('font loaded')
    if (document.getElementsByClassName('site-intro-meta')) {
      document
        .getElementsByClassName('intro-title')[0]
        .classList.add('intro-fade-in')
      document
        .getElementsByClassName('intro-subtitle')[0]
        .classList.add('intro-fade-in')
      var postIntros = document.getElementsByClassName('post-intros')[0]
      if (postIntros) {
        postIntros.classList.add('post-fade-in')
      }
    }
  }

  // UC不支持跨域，所以直接显示
  function asyncCb() {
    if (browser.versions.uc) {
      console.log('UCBrowser')
      fontLoaded()
    } else {
      WebFont.load({
        custom: {
          families: ['Oswald-Regular'],
        },
        loading: function () {
          // 所有字体开始加载
          // console.log('font loading');
        },
        active: function () {
          // 所有字体已渲染
          fontLoaded()
        },
        inactive: function () {
          // 字体预加载失败，无效字体或浏览器不支持加载
          console.log('inactive: timeout')
          fontLoaded()
        },
        timeout: 5000, // Set the timeout to two seconds
      })
    }
  }

  function asyncErr() {
    console.warn('script load from CDN failed, will load local script')
  }

  // load webfont-loader async, and add callback function
  function async(u, cb, err) {
    var d = document,
      t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0]
    o.src = u
    if (cb) {
      o.addEventListener(
        'load',
        function (e) {
          cb(null, e)
        },
        false
      )
    }
    if (err) {
      o.addEventListener(
        'error',
        function (e) {
          err(null, e)
        },
        false
      )
    }
    s.parentNode.insertBefore(o, s)
  }

  var asyncLoadWithFallBack = function (arr, success, reject) {
    var currReject = function () {
      reject()
      arr.shift()
      if (arr.length) async(arr[0], success, currReject)
    }

    async(arr[0], success, currReject)
  }

  asyncLoadWithFallBack(
    [
      'https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js',
      'https://cdn.bootcss.com/webfont/1.6.28/webfontloader.js',
      "/lib/webfontloader.min.js",
    ],
    asyncCb,
    asyncErr
  )
</script>

            <img class="loading" src="/assets/loading.svg" style="display: block; margin: 6rem auto 0 auto; width: 6rem; height: 6rem;" />
            <div class="container container-unloaded">
                <main class="main post-page">
    <article class="article-entry">
        <h1 id="远程访问模块项目文档"><a href="#远程访问模块项目文档" class="headerlink" title="远程访问模块项目文档"></a>远程访问模块项目文档</h1><p>记录于7月9日，至此日，仅有ODBC与C++插件。<br>记录于8月18日，不需要体现工作量，应该重点将工作内容描述清楚。<br>记录于10月15日，目前已经编写完成基本功能。<br>记录于2022年1月10日，自从过第一个节点之后很少去了解这个项目了。目前需要进行完善。</p>
<h2 id="一、需求分析-模块目标"><a href="#一、需求分析-模块目标" class="headerlink" title="一、需求分析(模块目标)"></a>一、需求分析(模块目标)</h2><ul>
<li><p>远程访问模块为目前DB的模块，负责远程通信。</p>
</li>
<li><p>对远程程序提供访问服务，可以适应C&#x2F;C++，ODBC，JAVA(JDBC)，Python的远程访问。</p>
</li>
<li><p>符合ODBC访问标准。</p>
</li>
<li><p>符合嵌入式设备的高效代码</p>
</li>
<li><p>应该适应如下网络模型：</p>
<ol>
<li>基本C&#x2F;S架构通信，在局域网内的通信，在互联网上的通信。</li>
<li>嵌入式设备中本地网络的直接通过ODBC进行调用。</li>
</ol>
</li>
</ul>
<h2 id="二、概要设计-参照文档"><a href="#二、概要设计-参照文档" class="headerlink" title="二、概要设计(参照文档)"></a>二、概要设计(参照文档)</h2><p><img src="/ODBC_Research%5CODBC%E6%A6%82%E8%A6%81%E8%AE%BE%E8%AE%A1.png"></p>
<h3 id="1-程序形式"><a href="#1-程序形式" class="headerlink" title="1. 程序形式"></a>1. 程序形式</h3><p>其中远程访问模块以服务的方式存在，常驻操作系统。</p>
<p>ODBC:</p>
<ul>
<li>ODBC驱动程序，dll库</li>
<li>ODBC组件安装程序，exe程序</li>
<li>ODBC组件设置程序，dll库</li>
</ul>
<p>通过调用dll库，应用程序可以连接远程的、局域网内的数据库。<br>而dll库中内容应该存在基本的服务端server性质，在执行时以服务的形式存在。</p>
<p> &#x2F;<em>IN</em>&#x2F; mco_trans_h t<br>&#x2F;<em>IN</em>&#x2F;uint2 class_code<br>&#x2F;<em>OUT</em>&#x2F; mco_class_stat_h  stat<br> &#x2F;<em>事务句柄</em>&#x2F;<br>&#x2F;<em>表序号</em>&#x2F;<br>&#x2F;<em>表信息句柄</em>&#x2F;</p>
<p>&#x2F;&#x2F;ret &#x3D; SQLConnect(hdbc, (SQLWCHAR*)L”MYSQL_TEST_1_64”, SQL_NTS, (SQLWCHAR*)L”itheds”, SQL_NTS, (SQLWCHAR*)L”Test404#”, SQL_NTS);<br>&#x2F;&#x2F;ret &#x3D; SQLConnect(hdbc, (SQLWCHAR*)L”SQL_Server”, SQL_NTS, (SQLWCHAR*)L”sa”, SQL_NTS, (SQLWCHAR*)L”1234567”, SQL_NTS);</p>
<p>my JDBC Driver</p>
<p>jdbc:myapp:&#x2F;&#x2F;host:port&#x2F;catalog</p>
<h3 id="2-基本功能"><a href="#2-基本功能" class="headerlink" title="2. 基本功能"></a>2. 基本功能</h3><p>实现基本的功能并保证其健壮性。</p>
<p>最为主要的是远程连接管理和通信模块。<br>在确定基本功能作用的基础上，满足并封装成ODBC标准接口。</p>
<p>从系统环境出发衍生到功能对ODBC标准接口分类如下：</p>
<p>句柄相关操作：<br>SQLAllocHandle |<br>SQLFreeHandle |<br>SQLCancelHandle | </p>
<p>首先是系统总体的体现，和环境句柄SQLHENV相关：</p>
<table>
<thead>
<tr>
<th align="right">接口</th>
<th align="center">备注</th>
<th align="center">参数规则</th>
</tr>
</thead>
<tbody><tr>
<td align="right">SQLGetEnvAttr</td>
<td align="center">检索并返回环境属性的当前设置</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">SQLGetInfo</td>
<td align="center">返回有关与连接关联的驱动程序和数据源的一般信息</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">SQLSetEnvAttr</td>
<td align="center">设置管理环境指定的属性</td>
<td align="center"></td>
</tr>
</tbody></table>
<h4 id="远程连接管理"><a href="#远程连接管理" class="headerlink" title="远程连接管理"></a>远程连接管理</h4><p>管理连接。拟实现连接池。<br>需不需要连接池，是长连接还是短连接。<br>怎么样实现连接池的问题。<br>长连接和短链接概念是针对与TCP来说的。</p>
<p>关于连接池：连接池的概念在ODBC中也有涉及。”连接池由驱动程序管理器维护”，那么连接池是驱动还是驱动管理器完成的？<br>该部分表示在<code>驱动程序管理器中有对驱动程序和应用程序之间的连接管理连接池</code>，与需要实现的服<code>务端和客户端之间的连接池</code>并不重叠冲突。<br>所以连接池是需要实现在核心代码中的。以长连接的方式。<br>连接池是使用在server中的。因为一个server可以响应多个client的连接。</p>
<p>但是，还有一种情况，一个应用程序中是可以对一种数据库源建立多个连接的。<br>所以在驱动管理器或者驱动程序中，也会存在一个连接池，所以这部分连接池又怎么考虑呢？此部分暂时存疑[???]&#x2F;&#x2F;TODO。</p>
<p>指代和大部分的连接句柄SQLHDBC有关。</p>
<table>
<thead>
<tr>
<th align="right">接口</th>
<th align="center">备注</th>
<th align="center">参数规则</th>
</tr>
</thead>
<tbody><tr>
<td align="right">SQLConnect</td>
<td align="center">建立连接</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">SQLDriverConnect</td>
<td align="center">驱动连接</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">SQLDisconnect</td>
<td align="center">关闭连接句柄</td>
<td align="center"></td>
</tr>
</tbody></table>
<p>SQLGetFunctions | 返回有关驱动程序是否支持特定 ODBC 函数的信息<br>SQLGetConnectAttr | 得到连接句柄的相关属性信息<br>SQLBrowseConnect | 枚举连接到数据源所需的属性和属性值的迭代方法<br>SQLSetConnectAttr | 设置管理连接方面的属性</p>
<h4 id="SQL语句相关"><a href="#SQL语句相关" class="headerlink" title="SQL语句相关"></a>SQL语句相关</h4><p>进行对SQL语句的处理。<br>大部分与语句句柄SQLHSTMT有关。游标、光标、描述符。<br>需要提取出需要实现的参数结构。</p>
<table>
<thead>
<tr>
<th align="right">接口</th>
<th align="center">备注</th>
<th align="center">参数规则</th>
</tr>
</thead>
<tbody><tr>
<td align="right">SQLExecDirect</td>
<td align="center">直接执行可准备的语句</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">SQLPrepare</td>
<td align="center">准备执行语句</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">SQLExecute</td>
<td align="center">执行准备好的语句</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">SQLFetch</td>
<td align="center">提取下一行的结果集</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">SQLFetchScroll</td>
<td align="center">从结果集提取指定的数据行集</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">*SQLGetData</td>
<td align="center">retrieves(检索)数据对单个列结果</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">*SQLMoreResults</td>
<td align="center">确定是否有更多可用的结果，跳过无关操作，移动到下一个结果集</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">SQLCancel</td>
<td align="center">取消对语句的处理</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">SQLFreeStmt</td>
<td align="center">停止与语句句柄的关联处理等</td>
<td align="center"></td>
</tr>
</tbody></table>
<p>SQLNativeSql | 返回驱动程序修改的SQL字符串<br>SQLSetPos | 设置行集中的光标位置<br>SQLCloseCursor | 关闭已在语句上打开的游标并丢弃待办结果<br>SQLGetCursorName | 返回与指定语句关联的游标名称<br>SQLSetCursorName | 设置与指定语句关联的游标名称</p>
<p>信息相关：</p>
<table>
<thead>
<tr>
<th align="right">接口</th>
<th align="center">备注</th>
<th align="center">参数规则</th>
</tr>
</thead>
<tbody><tr>
<td align="right">SQLDescribeParam</td>
<td align="center">与已准备的SQL语句关联的参数标记的描述</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">SQLDescribeCol</td>
<td align="center">返回结果集中指定一列的描述符</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">SQLNumParams</td>
<td align="center">返回SQL语句中的参数数目</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">*SQLParamData</td>
<td align="center">提供参数数据</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">SQLNumResultCols</td>
<td align="center">返回结果集中的列数</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">*SQLProcedureColumns</td>
<td align="center">返回输入和输出参数的列表</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">SQLRowCount</td>
<td align="center">返回受 <code>更新、 插入 或 删除</code> 语句<code>影响的行数</code></td>
<td align="center"></td>
</tr>
<tr>
<td align="right">*SQLSpecialColumns</td>
<td align="center">检索有关指定表中的列的唯一标识表中的行的一组最佳列；当事务更新行中的任何值时，自动更新的列</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">*SQLSetStmtAttr</td>
<td align="center">设置与语句相关的属性</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">SQLGetStmtAttr</td>
<td align="center">检索语句属性的当前设置</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">SQLGetTypeInfo</td>
<td align="center">检索有关数据源支持的数据类型的信息是否存在</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">*SQLStatistics</td>
<td align="center">检索<code>单个表和该表索引的关联信息</code>的统计，返回信息列表</td>
<td align="center"></td>
</tr>
</tbody></table>
<p>SQLColumns | 返回指定表中的列名列表<br>SQLForeignKeys | 指定表中的外键列表<br>SQLPrimaryKeys | 返回构成表的主键列名称，以结果集形式<br>SQLTables | 返回存储在特定数据源中的表、目录或模式名称以及表类型的列表</p>
<p>SQLBulkOperations | 执行批量插入和批量bookmark操作</p>
<p>描述符相关：<br>SQLColAttribute | 返回结果集中列的描述符信息<br>SQLCopyDesc | 复制描述符<br>SQLSetDescField | 设置指定的描述符字段<br>SQLSetDescRec | 设置<code>影响了数据类型和缓冲区边界</code>的多个描述符集到列或者参数数据</p>
<p>权限：<br>SQLColumnPrivileges | 返回指定表的列和相关权限的列表<br>SQLTablePrivileges | 返回一个表列表以及与每个关联表的权限</p>
<p>缓冲区操作：</p>
<table>
<thead>
<tr>
<th align="right">接口</th>
<th align="center">备注</th>
<th align="center">参数规则</th>
</tr>
</thead>
<tbody><tr>
<td align="right">SQLBindCol</td>
<td align="center">将应用程序数据缓冲区绑定到结果集中的列</td>
<td align="center"></td>
</tr>
<tr>
<td align="right">*SQLBindParameter</td>
<td align="center">将缓冲区绑定到 SQL 语句中的参数标记</td>
<td align="center"></td>
</tr>
</tbody></table>
<h4 id="通信协议设计"><a href="#通信协议设计" class="headerlink" title="通信协议设计"></a>通信协议设计</h4><p>因为这一层是驱动程序和数据源之间的通信，所以协议设计是完全自主的。<br>使用TCP&#x2F;IP协议，并且规定数据包的格式内容。<br>主要考虑以下几个方面：</p>
<ol>
<li>数据量大时的情况拆包组包方式。</li>
<li>传输过程中确保多包情况下的稳定性问题。</li>
<li>以上从包的丢失、延迟、程序中断等考虑。</li>
</ol>
<p>在表现形式中，分为主动连接和监听部分。</p>
<h4 id="访问权限控制"><a href="#访问权限控制" class="headerlink" title="访问权限控制"></a>访问权限控制</h4><p>这部分主要是询问内部数据源信息，以确定用户持有的token是否合法，进而确定是否有访问权限。<br>目前数据库中有实现的方法则应该对其进行封装引用即可。</p>
<h4 id="链路安全"><a href="#链路安全" class="headerlink" title="链路安全"></a>链路安全</h4><p>方案一，SSL是对socket的一种使用方式，使链路不易被监听。<br>目前是SSL技术使用的openSSL其技术栈未明确。<br>方案二，使用自主的非对称加密方法进行加密。</p>
<p>SSL部分代码：<br>client:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;openssl/ssl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;openssl/err.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">meth = <span class="built_in">SSLv23_client_method</span>();</span><br><span class="line">ctx = <span class="built_in">SSL_CTX_new</span> (meth);</span><br><span class="line">ssl = <span class="built_in">SSL_new</span>(ctx);</span><br><span class="line">fd = <span class="built_in">socket</span>();</span><br><span class="line"><span class="built_in">connect</span>();</span><br><span class="line"><span class="built_in">SSL_set_fd</span>(ssl,fd);</span><br><span class="line"><span class="built_in">SSL_connect</span>(ssl);</span><br><span class="line"><span class="built_in">SSL_write</span>(ssl,<span class="string">&quot;Hello world&quot;</span>,<span class="built_in">strlen</span>(<span class="string">&quot;Hello World!&quot;</span>));</span><br></pre></td></tr></table></figure>

<p>server:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">meth = <span class="built_in">SSLv23_server_method</span>();</span><br><span class="line">ctx = <span class="built_in">SSL_CTX_new</span> (meth);</span><br><span class="line">ssl = <span class="built_in">SSL_new</span>(ctx);</span><br><span class="line">fd = <span class="built_in">socket</span>();</span><br><span class="line"><span class="built_in">bind</span>();</span><br><span class="line"><span class="built_in">listen</span>();</span><br><span class="line"><span class="built_in">accept</span>();</span><br><span class="line"><span class="built_in">SSL_set_fd</span>(ssl,fd);</span><br><span class="line"><span class="built_in">SSL_connect</span>(ssl);</span><br><span class="line"><span class="built_in">SSL_read</span> (ssl, buf, <span class="built_in">sizeof</span>(buf));</span><br></pre></td></tr></table></figure>

<h4 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h4><p>SQLGetDiagField | 返回包含错误、警告和状态信息的诊断数据结构的<code>记录字段</code>的当前值<br>SQLGetDiagRec | 返回包含错误、警告和状态信息的诊断记录的<code>多个字段</code>的当前值</p>
<p>表现为错误码。<br>分为两种方式：</p>
<ul>
<li>返回码</li>
<li>诊断记录：每个ODBC API函数都能产生一系列的反应操作信息的诊断记录，这些诊断记录都放在相关联的ODBC句柄中，直到下一个使用同一个句柄的函数调用，该诊断记录一直存在。诊断记录的大小没有限制。</li>
</ul>
<h4 id="事务系统"><a href="#事务系统" class="headerlink" title="事务系统"></a>事务系统</h4><p>SQLEndTran | 请求对<code>与连接关联的所有语句上的所有活动操作</code>执行提交或回滚操作</p>
<p>事务隔离、并发控制，事务回滚。需要了解目前的事务系统的执行方式。</p>
<h4 id="日志文件"><a href="#日志文件" class="headerlink" title="日志文件"></a>日志文件</h4><p>定义信息策略，将程序运行过程记录到软件日志文件。</p>
<h3 id="3-模块与组件"><a href="#3-模块与组件" class="headerlink" title="3. 模块与组件"></a>3. 模块与组件</h3><p>模块与组件应该致力于提高系统的可管理性，同时通过模块和组件的划分确定工作量。</p>
<p>远程访问模块分为以下组件进行开发：</p>
<ol>
<li>通信组件 - 拆包组包 - 监听 - 链路加密解密</li>
<li>客户端连接管理组件 - </li>
<li>服务端连接管理组件 - 连接池 -</li>
<li>日志记录组件</li>
<li>指令转换组件</li>
</ol>
<p>远程访问模块提供标准C++接口，在此基础上进行封装，形成ODBC标准API接口。</p>
<h4 id="各模块与各组件之间的通信"><a href="#各模块与各组件之间的通信" class="headerlink" title="各模块与各组件之间的通信"></a>各模块与各组件之间的通信</h4><p>远程访问模块和微内核模块通过aeci接口进行通信。</p>
<p>组件间的高内聚是不可避免的，只是需要注意组件的复用性在保证效率的情况下应该尽可能大。</p>
<h3 id="4-代码分布"><a href="#4-代码分布" class="headerlink" title="4. 代码分布"></a>4. 代码分布</h3><p>主要驱动程序有三部分代码：</p>
<ul>
<li>公用代码</li>
<li>内部层代码</li>
<li>SQL_()API实现</li>
</ul>
<p>主要文件结构如下：19个.h，16个.cpp。<br>配置文件 config.h<br>技术栈调用文件 ras_lib.h<br>公用代码 global.cpp<br>    上层抽象类数据结构 struct.cpp<br>        访问控制接口[转换] access_per.cpp<br>        日志文件接口[转换] log_api.cpp<br>        数据库SQL标准接口[转换] sql_api.cpp<br>    链路加密文件 encrypt.cpp<br>        基本通信 communicate.cpp<br>    连接池 connect_pool.cpp<br>        连接管理连接句柄操作 connect.cpp<br>    环境句柄管理与操作 env.cpp<br>    语句句柄管理与操作 stmt.cpp<br>SQL_()标准接口 DBODBC.cpp<br>    SQL_()扩展接口 DBODBCext.cpp<br>        安装程序 installer.cpp<br>        客户端程序 DBclient.cpp<br>        服务端程序 DBserver.cpp<br>        总调用文件 tzdb_driver.h</p>
<h4 id="接口设计"><a href="#接口设计" class="headerlink" title="接口设计"></a>接口设计</h4><p>接口设计主要围绕功能以及文件进行定义</p>
<p>底层C++接口：<br>    1. 初始化句柄<br>    2. </p>
<p>公用函数接口:<br>    1. 内存分配函数，封装malloc()</p>
<h4 id="数据结构设计"><a href="#数据结构设计" class="headerlink" title="数据结构设计"></a>数据结构设计</h4><p>需要明确调查出</p>
<ul>
<li>协议数据的解析过程</li>
<li>SQL语句在驱动中的执行过程以及数据变化</li>
<li>结果集的返回形式和在函数中的地址存在</li>
</ul>
<p>拟定数据结构分为，核心数据结构，次级数据结构。(该称谓与符合级别无关)</p>
<p>核心数据结构：<br>    1. 环境句柄 EVN<br>    2. 数据库连接句柄 DBC<br>    3. 语句句柄 STMT<br>    4. 模块本身信息结构 TZDB</p>
<h4 id="接口设计-1"><a href="#接口设计-1" class="headerlink" title="接口设计"></a>接口设计</h4><p>接口设计主要围绕功能进行定义</p>
<p>底层C++接口：<br>    1. 初始化句柄<br>    2. </p>
<p>公用函数接口:<br>    1. 内存分配函数，封装malloc()</p>
<h4 id="ODBC-SQL-标准-API"><a href="#ODBC-SQL-标准-API" class="headerlink" title="ODBC SQL_() 标准 API"></a>ODBC SQL_() 标准 API</h4><p>48个标准接口<br>12个扩展接口<br>(见附录)</p>
<p>功能上大概可分为：</p>
<ol>
<li><p>句柄操作。<br> SQLAllocHandle,SQLFreeHandle,SQLCancelHandle,</p>
</li>
<li><p>与驱动版本信息或者环境信息相关的存取。<br> SQLGetEnvAttr,<br> SQLGetInfo,<br> SQLSetEnvAttr,</p>
</li>
<li><p>连接管理<br> SQLConnect,SQLDriverConnect,SQLDisconnect,<br> SQLGetConnectAttr,SQLBrowseConnect,SQLGetFunctions,SQLSetConnectAttr,</p>
</li>
<li><p>与SQL查询语句有关的接口。<br> SQLPrepare,SQLExecute,SQLExecDirect,<br> SQLFetch,SQLFetchScroll,<br> SQLGetData,SQLMoreResults,<br> SQLCancel,SQLFreeStmt,</p>
<p> SQLNativeSql,SQLSetPos,<br> SQLCloseCursor,<br> SQLGetCursorName&lt;与指定语句的游标名称&gt;,<br> SQLSetCursorName,</p>
<p> SQLDescribeParam,SQLDescribeCol,SQLNumParams,SQLParamData,SQLNumResultCols,SQLProcedureColumns,SQLRowCount,SQLSpecialColumns,SQLSetStmtAttr,<br> SQLGetStmtAttr,SQLGetTypeInfo,SQLStatistics,</p>
<p> SQLColumns,SQLForeignKeys,SQLPrimaryKeys,<br> SQLTables,<br> *SQLBulkOperations,</p>
</li>
<li><p>描述符的操作<br> SQLColAttribute,SQLCopyDesc,SQLSetDescField,SQLSetDescRec,</p>
</li>
<li><p>权限相关<br> SQLColumnPrivileges<SQLHSTMT>,SQLTablePrivileges<SQLHSTMT>,</p>
</li>
<li><p>缓冲区。<br> SQLBindCol,SQLBindParameter,</p>
</li>
<li><p>错误处理<br>SQLGetDiagField,SQLGetDiagRec,</p>
</li>
<li><p>事务管理<br>SQLEndTran,</p>
</li>
<li><p>不清楚的API<br>SQLPutData,<br>SQLProcedures,</p>
</li>
</ol>
<h4 id="初步实现-API"><a href="#初步实现-API" class="headerlink" title="初步实现 API"></a>初步实现 API</h4><p>ODBC分配句柄接口<br>ODBC主动连接接口<br>ODBC获取信息接口<br>ODBC方法支持接口<br>ODBC类型支持接口<br>ODBC连接属性检索接口<br>ODBC环境设置接口<br>ODBC检索环境设置接口<br>ODBC语句设置接口<br>ODBC检索语句设置接口<br>ODBC检索单个描述符字段接口<br>ODBC检索多个描述符字段接口<br>ODBC复制描述符接口<br>ODBC预执行SQL接口<br>ODBC执行SQL语句接口<br>ODBC执行就绪SQL语句接口<br>ODBC检索SQL语句参数描述接口<br>ODBC检索结果集接口<br>ODBC检索结果行接口<br>ODBC检索结果集列属性接口<br>ODBC设置游标接口<br>ODBC检索单个诊断信息接口<br>ODBC检索多个诊断信息接口<br>ODBC检索表列名接口<br>ODBC检索外键接口<br>ODBC检索主键接口<br>ODBC语句句柄结束处理接口<br>ODBC关闭游标接口<br>ODBC关闭连接接口<br>ODBC释放句柄接口</p>
<h4 id="初步实现-C-接口"><a href="#初步实现-C-接口" class="headerlink" title="初步实现 C++ 接口"></a>初步实现 C++ 接口</h4><p>远程C&#x2F;C++连接接口<br>远程C&#x2F;C++预执行SQL语句接口<br>远程C&#x2F;C++执行SQL语句接口<br>远程C&#x2F;C++获取单个结果集接口<br>远程C&#x2F;C++获取多个结果集接口<br>远程C&#x2F;C++检索表权限接口<br>远程C&#x2F;C++设置游标接口<br>远程C&#x2F;C++检索结果集属性列接口<br>远程C&#x2F;C++检索表列属性集接口<br>远程C&#x2F;C++检索单个诊断信息接口<br>远程C&#x2F;C++检索多个诊断信息接口<br>远程C&#x2F;C++语句句柄结束处理接口<br>远程C&#x2F;C++关闭游标接口<br>远程C&#x2F;C++关闭连接接口</p>
<h4 id="ODBC功能"><a href="#ODBC功能" class="headerlink" title="ODBC功能"></a>ODBC功能</h4><p>数据源配置<br>驱动程序安装<br>描述符句柄处理<br>环境句柄处理</p>
<h4 id="C-接口以及-Server-功能"><a href="#C-接口以及-Server-功能" class="headerlink" title="C++接口以及 Server 功能"></a>C++接口以及 Server 功能</h4><p>网络通信单元<br>通信协议转换<br>链路加密单元<br>用户身份认证<br>用户权限认证<br>用户身份注册<br>SQL语句处理<br>结果集处理<br>错误信息处理<br>日志记录<br>远程可交互式SQL<br>环境信息管理<br>连接池管理<br>多线程任务执行<br>目标主机信息获取</p>
<h4 id="installer安装程序exe"><a href="#installer安装程序exe" class="headerlink" title="installer安装程序exe"></a>installer安装程序exe</h4><p>安装程序描述字符：</p>
<pre><code>TZDB ODBC 1.0 ANSI Driver\0Driver=tzdb-odbc.dll\0Setup=tzdb-odbc-setup.dll\0\0
</code></pre>
<p>其中安装的主要接口为 SQLInstallDriverExW() ,默认安装至目录 C:\Windows\system32\tzdb-odbc.dll ，但是实际上文件存放的位置应该是 C:\Windows\SysWOW64 ， 其中dll并不会在该接口执行时复制到系统目录中，暂时需要手动复制。</p>
<p>关于目录问题，system32中存放的是64位应用程序；syswow64中存放的是32位应用程序。syswow64中的32位应用程序运行时，其需要进行一个转向操作。</p>
<h4 id="setup设置程序dll"><a href="#setup设置程序dll" class="headerlink" title="setup设置程序dll"></a>setup设置程序dll</h4><p>主要接口为<code>ConfigDSNW</code>。</p>
<h3 id="5-资源策略"><a href="#5-资源策略" class="headerlink" title="5. 资源策略"></a>5. 资源策略</h3><p>该部分书写于详细设计。</p>
<ul>
<li>数据结构</li>
<li>句柄分配</li>
<li>缓冲区分配</li>
<li>线程机制</li>
<li>协议设计</li>
<li>指令规则</li>
</ul>
<h2 id="三、详细设计"><a href="#三、详细设计" class="headerlink" title="三、详细设计"></a>三、详细设计</h2><p>项目分为如下几个部分：</p>
<ol>
<li>AgilorE : 数据库项目实体。</li>
<li>tzdb-ras : 远程访问服务主要代码，ODBC部分以包的形式出现。</li>
<li>tzbd-odbc-installer : ODBC 标准安装程序。</li>
<li>tzdb-odbc-setup : OBDC 标准setup.dll。</li>
<li>tzdb-odbc-test : 远程访问服务主要测试代码。</li>
</ol>
<p>其实到目前[10.18]项目的结构以及很明显：<br>基本信息<br>网络层<br>功能层<br>client层 : 提供给用户的接口，用于连接数据库。<br>server层 : 使得服务器以一个server的形式运行。<br>ODBC层 : 专门用于ODBC层次的结构调用。</p>
<p>项目目录：<br>配置文件 RASconfig.h<br>宏定义关键字表 RASKeyword.h<br>技术栈调用文件 RASLib.h<br>公用代码 global.cpp<br>上层抽象类及数据结构 RASClass.cpp<br>    网络通信组件 Communicate.cpp<br>    通信协议以及指令分析 ConProtocol.cpp<br>    连接池 ConPool.h<br>                访问控制接口[转换] AccessPer.cpp<br>                日志文件接口[转换] LogApi.cpp<br>C++接口函数(客户端) libtzdb.cpp<br>TZDB相关服务端主要函数 RAServer.cpp</p>
<pre><code>环境句柄管理与操作 env.cpp
语句句柄管理与操作 stmt.cpp
连接句柄管理与操作 dbc.cpp
描述符句柄管理与操作 desc.cpp

SQL_()标准接口 DBODBC.cpp
SQL_()扩展接口 DBODBCext.cpp
ODBC主要数据结构及方法 TzodbcDriver.h
</code></pre>
<p>驱动程序 tzdb-odbc.dll</p>
<p>配置驱动 tzdb-odbc-setup.dll<br>安装程序 OdbcInstaller.cpp</p>
<h3 id="文件结构说明"><a href="#文件结构说明" class="headerlink" title="文件结构说明"></a>文件结构说明</h3><h4 id="C-接口函数-客户端-libtzdb-cpp"><a href="#C-接口函数-客户端-libtzdb-cpp" class="headerlink" title="C++接口函数(客户端) libtzdb.cpp"></a>C++接口函数(客户端) libtzdb.cpp</h4><p>该文件定义三个基本的数据结构，连接句柄、语句句柄和环境句柄。<br>并且定义了C++标准接口函数。</p>
<h4 id="TZDB相关服务端主要函数-RAServer-cpp"><a href="#TZDB相关服务端主要函数-RAServer-cpp" class="headerlink" title="TZDB相关服务端主要函数 RAServer.cpp"></a>TZDB相关服务端主要函数 RAServer.cpp</h4><p>定义了环境句柄相关操作</p>
<h3 id="基本原则"><a href="#基本原则" class="headerlink" title="基本原则"></a>基本原则</h3><ol>
<li>宏定义应该满足可控的参数宏定义于config.h，其他宏则定义于声明函数或类的头文件中。</li>
<li>用enum取代(一组相关的)常量。</li>
<li>类的构造函数一般采用 explicit 修饰。</li>
<li>禁止使用魔鬼数字。</li>
<li>尽量用引用取代指针。</li>
</ol>
<h3 id="命名规则"><a href="#命名规则" class="headerlink" title="命名规则"></a>命名规则</h3><ol>
<li>变量 使用下划线命名法。局部变量命名采用驼峰风格。</li>
</ol>
<p>命名与局部变量类似，要在前边加上下划线。</p>
<p>函数参数用a作为前缀;<br>成员变量用m最为前缀;<br>循环变量和简单变量采用简单小写字符串即可。例如，int i;<br>指针变量用p打头，例如void* pBuffer;<br>全局变量用g_最为前缀。</p>
<p>常量命名以k_开头。</p>
<ol start="2">
<li>类、结构体、枚举、类型定义（typedef） Pascal命名法:以多个相连的单词命名，每个单词首字母大写，不包含下划线。<br>具有继承关系的类，在命名上应能体现其关系。</li>
</ol>
<p>T类表示简单数据类型，不对资源拥有控制权，在析构过程中没有释放资源动作。<br>C表示从CBase继承的类。该类不能从栈上定义变量，只能从堆上创建。<br>M表示接口类。<br>R是资源类，通常是系统固有类型。除了特殊情况，不应在开发代码中出现R类型。</p>
<ol start="3">
<li><p>函数名 使用驼峰命名，采用动宾词组。<br>私有成员函数以双下划线__开头<br>保护成员函数以单下划线_开头</p>
</li>
<li><p>文件名 使用大小写混合命名方式。一般形如 BaseFile.cpp。</p>
</li>
<li><p>命名空间要求全部小写，命名基于项目名称和目录结构。</p>
</li>
</ol>
<h3 id="数据结构设计-1"><a href="#数据结构设计-1" class="headerlink" title="数据结构设计"></a>数据结构设计</h3><p>在设计数据结构时，各个层次关系必须分离开来。</p>
<p>底层的基本代码。<br>上层是ODBC层。</p>
<h4 id="SOCKET-T类"><a href="#SOCKET-T类" class="headerlink" title="SOCKET_T类"></a>SOCKET_T类</h4><p>基本的通信TCP层类，负责传输层通信。<br>不进行内存管理。</p>
<ol>
<li>封装socket最基本操作，完成关于TCP层通信。</li>
<li>使用外部可信缓冲区，类内不设有缓冲区地址。使用Connect类中缓冲区。</li>
</ol>
<h4 id="Connect类"><a href="#Connect类" class="headerlink" title="Connect类"></a>Connect类</h4><p>通信层中的连接类。负责管理本地连接。</p>
<ol>
<li>使用SOCKET_T类进行通信。</li>
<li>建立缓冲区，进行内存管理。</li>
<li></li>
<li>进行数据加密操作。</li>
</ol>
<p>关键是拆包组包谁来实现。<br>窗口范围控制，以及Keepalive参数。<br>该Keepalive参数似乎setsockopt()提供。</p>
<h4 id="COnnectPool类"><a href="#COnnectPool类" class="headerlink" title="COnnectPool类"></a>COnnectPool类</h4><p>连接池类。</p>
<ol>
<li>存在server管理应用程序连接。足够复用到不可预见的client。</li>
<li>存储一个通信连接类connect队列。</li>
<li>和线程相关联。</li>
</ol>
<h4 id="DataSource-类"><a href="#DataSource-类" class="headerlink" title="DataSource 类"></a>DataSource 类</h4><ol>
<li>标识一个数据源。</li>
<li>存储一个用户-数据库连接中，用户的密码、用户名、ip地址、端口等。</li>
<li>存储数据源的验证信息token。</li>
</ol>
<h4 id="dbrConnect-TZDB主类-连接句柄"><a href="#dbrConnect-TZDB主类-连接句柄" class="headerlink" title="dbrConnect TZDB主类\连接句柄"></a>dbrConnect TZDB主类\连接句柄</h4><p>唯一标识一次连接的主类TZDB。</p>
<ol>
<li>该类唯一标识了一个连接。</li>
<li>该类中存储关于用户的所有信息包括用户的密码、用户名、ip地址、端口等。</li>
</ol>
<p>dbrConnect 与 DataSource之间的关系：</p>
<ol>
<li>两者互不包含。</li>
<li>使用 DataSource 存储用户关键信息。</li>
<li>dbrConnect 一个类可以完成大部分在底层C++接口的工作内容。</li>
</ol>
<p>主要四个类的功能性特征：</p>
<ol>
<li>这几个类是直接与内核进行紧耦合的。</li>
<li>C++ 接口是直接使用一个主类为参数的。C++接口内部仍然调用的是四个主类的成员函数。</li>
<li>SQL_() 标准接口尽量只调用 C++ 接口。</li>
</ol>
<p>功能层次：</p>
<ol>
<li>四个主要类的成员函数。</li>
<li>C++ 接口。</li>
<li>SQL_() 标准接口函数。</li>
</ol>
<p>Server接口的功能：</p>
<p>程序流程：<br>Client 这边用户只需要调用 ODBC 标准接口进行执行。<br>具体在 C++ 接口中，用户定义一个 dbrConnect ，(围绕)该类调用 C++ 接口执行相关语句。 dbrConnect 内部有网络层控件， 执行相关操作时， dbrConnect 将数据整合成数据结构。<br>方案一：C++ 接口将数据进行整合成数据结构， dbrConnect 类只处理数据结构，net 网络层将数据结构接收并且进行额外网络操作(加密、组包、链路安全等)，接收到数据，并且映射成相应的数据结构并对该数据结构进行内存分配，返回给 dbrConnect 类，dbrConnect 类根据该数据结构内容，执行相关功能性操作。<br>该方案：</p>
<ol>
<li>dbrConnect 类只需要操作数据结构，而不需要操作 buffer。</li>
<li>但是 net 网络层操作的数据结构不需要 数据-&gt;结构体， 但需要 buffer&lt;-&gt;结构体。</li>
</ol>
<p>采用该方案。</p>
<p>Server 围绕主要类 dbRAServer 进行。除去 dbRAServer 类所进行的基本网络层结构功能的启动。{应该注意可拆卸}。在启动后，程序先停留在网络层，网络层完成 buffer-&gt; 结构体的操作之后，将结构体返回到 dbRAServer， dbRAServer 类直接与内部进行操作，依照多线程进行执行相关任务。<br>目前的方式是一个数据包对应一个解析函数。希望能够抽象出这个执行函数，并且把识别包类型和执行相关过程做一个指向性处理。<br>构建形如 {type, Func} 的列表。并且将 Func 进行实现。所以之后添加新的操作时，只需要在表内进行添加方法记录，并且实现指定方法即可。然后在客户端封装包的时候进行对应即可操作。</p>
<p>关键是使用哪一个连接进行，如果 dbRAServer 类中维护了多个连接，可以通过 socket 网络层进行确定，如果是新的连接则添加到监听队列中。</p>
<p>连接队列里面维护的是什么样的一个类？如果是维护的 dbrConnect 类，那么操作是否重复了？因为 dbrConnect 中存放的时网络层的信息、用户信息以及关联的描述符句柄和语句句柄。而 dbrConnect 中对应的操作都是发送的操作。</p>
<p>关键就在于需要执行很多的功能操作。这些操作之间的关系不确定导致了无法细化，导致无法明确将 server 中的功能集实现在 dbRAServer 上还是 dbrConnect 上。</p>
<p>传递结构体是有风险的，因为结构体的参数许多都是指针，计算长度的困难即使可以克服。</p>
<p>Client 中是没有必要将 dbrConnect 类的方法对标到 C++ 接口，只需要注意将关键操作进行添加到 dbrConnect 类成员方法即可。<br>之前的想法是 C++ 接口完全执行所有操作。上述观点希望让 dbrConnect 类成员函数接替。目前最好的方式是，在 C++ 接口中遵循完成基本操作流程的思路，将可复用代码抽离出，于内核高耦合的代码使用 dbrConnect 类成员函数实现。<br>Server 中使用对结构体识别的方式是没有问题的，因为这个过程是必须的，而将方法抽离出来进行定位的想法也没有错，目前看来是有利于进行多线程提升效率的。所以服务端需要做的事是将体系以类的方式存在。<br>Server 端有如下特点：任何功能操作必须是在接收和发送之间。<br>因此可以将功能类进行封装。</p>
<p>开发流程：(快速开发思路，问题不涉及运行不解决，问题涉及体系必须推进)</p>
<ol>
<li>SOCKET_T 链路层：(该部分暂时不需要更改)<br> 进行 socket TCP&#x2F;UDP 连接，暂时只支持 ipv4<br> 判断连接状态</li>
<li>RASNet 网络层：<br> 实现多种数据结构的解析<br> 发送指定长度包<br> 接收包，并确定长度，返回内存buffer<br> 解析包，将包映射到指定数据结构<br> 进行网络监听</li>
<li>dbrConnect 等四个主要类开发</li>
<li>dbRAServer 类开发</li>
<li>ODBC 接口开发</li>
</ol>
<p>四个主类的标准原则：</p>
<p>Server类仍然有存在的必要性：</p>
<ol>
<li>dbrENV 进行的功能是存储环境变量，在 ODBC 体系中不需要频繁操作 dbrENV ， 而是以 dbConnect 为主。</li>
<li>Server 类需要对内部进行管理，并且启动服务和多线程、I&#x2F;O模型、网络层初始化等工作。</li>
</ol>
<h4 id="dbrENV-环境句柄"><a href="#dbrENV-环境句柄" class="headerlink" title="dbrENV 环境句柄"></a>dbrENV 环境句柄</h4><p>环境句柄ENV，标识一个应用程序，拥有一个DBC连接句柄列队，对连接句柄进行管理。<br>调用接口进行连接时在环境句柄中分配一个。</p>
<h4 id="dbrSTMT-语句句柄"><a href="#dbrSTMT-语句句柄" class="headerlink" title="dbrSTMT 语句句柄"></a>dbrSTMT 语句句柄</h4><p>STMT语句句柄。该句柄封装了底层的语句句柄。</p>
<h4 id="dbrDESC-描述符句柄"><a href="#dbrDESC-描述符句柄" class="headerlink" title="dbrDESC 描述符句柄"></a>dbrDESC 描述符句柄</h4><p>描述符句柄DESC，可以存储四类信息，描述语句句柄或者其他信息。</p>
<h4 id="dbRAServer-服务主要类"><a href="#dbRAServer-服务主要类" class="headerlink" title="dbRAServer 服务主要类"></a>dbRAServer 服务主要类</h4><h3 id="通信组件"><a href="#通信组件" class="headerlink" title="通信组件"></a>通信组件</h3><p>首先是单个对于socket基本操作的封装。由于后续连接池部分实现对于一个连接的维护。<br>所以对于socket的基本操作封装不需要写明目标主机的地址。</p>
<p>TCP是可靠的连接,协议里已经处理了丢包&#x2F;误包重发的机制。</p>
<p>关于拆包和组包的函数：</p>
<ol>
<li>编写Demo测试粘包和拆包的情况是否是底层发生。</li>
<li>设计协议，拆包和组包的情况。</li>
</ol>
<p>Q&amp;A:</p>
<ol>
<li>差错控制和流量控制是否需要实现？<br>似乎socket编程中已经实现。</li>
<li>拆包组包模型的量级是多少？<br>我觉得应该将工作量细化，并且优先实现最小的模型部分。</li>
</ol>
<p>在实现了对 socket 基本操作进行封装生成 netSocket 类之后，设计连接类 CONNECT 进行创建单个连接，与连接参数进行对接。</p>
<p>该 CONNECT 类中完成对于协议的解析，并且将数据发送出去。</p>
<p>之前提到一个组包和拆包的概念，因为socket编程中自己可以完成关于拆包和组包的操作，只需要在recv和send中给出具体的长度即可。<br>但是当发的包过长的时候，会有一个通知接受端长度的问题，然后进行接收。这部分的”组包”是需要自己实现的，这也是通信协议的一部分。</p>
<p>通信情况：</p>
<ol>
<li>最好的方式就是，recv 一直在进行，并且长度都为最大值。那么无论 send 方如何处理，只要 recv 够快，就可以保证每次读出的都是一个数据包。</li>
<li>但是显然，如果 recv 不是一直进行的，或者说链路中存在者不对等传输的情况，那么粘包的情况是一定会出现的。</li>
<li>还有一种就是数据丢失的问题，如果 send 数据一直在进行，而数据超出了 recv 的缓冲区，那么会发生什么样的情况？这部分丢失的数据又作何处理，该问题应该在通信协议层进行解决。</li>
</ol>
<p>所以需要弄清楚的问题就是：</p>
<ol>
<li>链路断开和释放之间的各种情况问题。<br> 链路情况有三种: 断开(shutdown),释放(close),目标程序终止。</li>
<li>链路重连等各种情况。</li>
<li>以上两种情况对于残留数据的处理。<br> 为什么 recv 不能用于判断链路是否断开，原因就是在断开连接的情况下，链路层残留的数据仍然可以发送和接收。<br> 所以判断的方式要么是发送空数据包，要么就是调用 win 控件 errror 进行判断。</li>
<li>粘包和数据缺失的问题。<br> 需要通过设计通信协议进行解决。</li>
<li>阻塞模式。<br> 非必要选项。</li>
</ol>
<p>关于 send 和 recv 的返回值问题:</p>
<ol>
<li>send 返回值:<br> 如果发送的是空字符,那么返回 0 ,<br> 如果遇到连接断开,则返回 SOCKET_ERROR(-1)。<br> 如果是网络断开 ，也返回 -1。<br> 发送成功则返回发送的字节数。</li>
<li>recv 返回值：<br> 接收成功返回实际 copy 的字节数。<br> 如果连接断开(shutdown 或 close)，则返回 0；<br> 如果是目标进程结束，则返回 -1。</li>
</ol>
<p>close() 和 shutdown()执行之后，socket 无法再进行使用，因为 close 之后，资源已经释放。如果需要反复使用一个 socket ，那么则无需重新释放。</p>
<p>[注意]close 的逻辑部分，当一方执行 close 的时候，连接并没有被释放，也就是没有完全关闭。因为 socket 连接存在一个描述符的概念。close 只是将此描述符 -1 ，如果非 0 ，那么并不会发送 FIN 包。只有为 0 时，才会发送。<br>那么目标程序终止，是否才是关键连接断开呢。</p>
<p>以上问题清楚之后。考虑实现需求。</p>
<h4 id="netReadByKeyword-char-amp-buffer-int-amp-len-char-keyword-函数读取算法："><a href="#netReadByKeyword-char-amp-buffer-int-amp-len-char-keyword-函数读取算法：" class="headerlink" title="netReadByKeyword(char*&amp; buffer, int&amp; len, char* keyword)函数读取算法："></a>netReadByKeyword(char*&amp; buffer, int&amp; len, char* keyword)函数读取算法：</h4><p>该函数以 keyword 为分隔符，进行读取。该分隔符默认为无用数据。</p>
<p>维护一段缓冲区，长度为 tmp_buffer_len。</p>
<p>判断该缓冲区在存在数据的情况下是否存在分隔符。</p>
<p>初始读取一段长度 read_init_len 数据。<br>如果数据已经读取完毕，则阻塞。</p>
<p>判断单次读取数据中是否有分隔符 keyword。<br>如果有，则返回其第一个分隔符的第一个字符在目前读取数据的坐标。<br>如果没有，则继续读取。如果读取不会越界，每次多读取 incre_len 个数据长度。否则按剩余长度读取。<br>如果长度超出，则将缓冲区进行扩充长度，直到缓冲区到达最大值。如果缓冲区达到最大值仍然没有读取完成，认为该模型存在问题，丢弃指定长度数据，进行覆盖。并且记录单个数据包长度。直到读取完成。如果一直无法读取完成数据，则输出异常。</p>
<p>判断该分隔符之前是否有数据，有则输出。<br>没有则将继续读取。</p>
<p>痛苦如此持久，像蜗牛充满耐心地移动；快乐如此短暂，像兔子的尾巴掠过秋天的草原。</p>
<h4 id="后续实现"><a href="#后续实现" class="headerlink" title="后续实现"></a>后续实现</h4><pre><code>//根据流量进行控制

//链路安全

//数据加密

//数据解密

//读取协议规则

//根据协议进行封装
</code></pre>
<h3 id="协议设计"><a href="#协议设计" class="headerlink" title="协议设计"></a>协议设计</h3><p>通过通信组件，封装并完善了 socket 的一些应用规则，并且加入了自己的错误码识别，以及对连接状态的更直观的判断。保护了某些函数在执行中得到的是正确的使用。<code>为之后的系统适配接口做好准备</code>。确保了能够正确使用 socket 函数，并对应到本机功能中。</p>
<p>下一阶段则是为了更好的传输数据，解决粘包和包缺失的问题，设计相关通信协议。并且进行标识指令。</p>
<p>写入数据就是组包的过程。首先遵从连续发包的方式将包的参数进行规划和计算，之后放入数据。<br>如果是再上一层，则考虑将数据十分大的包进行拆解成若干个包。该部分优先级最低。</p>
<p>再上一层，考虑到发的包的内容。设计一个通信协议。</p>
<p>读取数据。首先读取一段内存，然后判断是否存在帧头和数据长度，之后读取数据并检验是否存在帧头。<br>如果读取的内存没有帧头，则丢弃(或者暂存)并且读取更多的长度，该增量模型一直增长。读取到之后进行判别。再进行读取内存。<br>读取的数据暂时存放在一段缓冲区中，不断存，不断识别。并且不断的对数据进行抛弃，直到识别到帧头。该缓冲区可以当成一个循环内存。<br>当识别到帧头的时候，再申请一块正确的内存进行存放。</p>
<p>buffer 的需求：</p>
<ol>
<li>该内存可以动态扩展，并且一旦扩展就不释放。</li>
<li>可以查询到该内存的大小。并且进行搜寻多个连续的字符。</li>
<li>可以生成一块完整的内存空间。按需进行数据转移。该指针下次使用时释放。</li>
<li></li>
</ol>
<h4 id="SOCKET-I-x2F-O模型"><a href="#SOCKET-I-x2F-O模型" class="headerlink" title="SOCKET I&#x2F;O模型"></a>SOCKET I&#x2F;O模型</h4><h3 id="线程池"><a href="#线程池" class="headerlink" title="线程池"></a>线程池</h3><p>线程池中互斥锁的必要性：<br>互斥锁的需要与否取决于是否存在临界资源或者是临界区。</p>
<p>dbMutex 结构体使用的是 InitializeCriticalSection 等接口。</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/xdrt81y/article/details/17005235">Mutex 和 Critical_Section 区别</a></p>
<h3 id="连接池部分"><a href="#连接池部分" class="headerlink" title="连接池部分"></a>连接池部分</h3><p>该部分定义连接池类。<br>连接池类维护基于 CONNECT 类的连接队列。管理并添加连接。<br>同时维护一个&lt;多系统适配&gt;的 I&#x2F;O 模型，进行 socket 事件操作。</p>
<p>关于线程池是否由连接池进行维护，取决于 I&#x2F;O 模型对线程分配的需求。</p>
<p>最后一个问题则是，线程池中执行哪些内容。<br>需要执行的内容：</p>
<ol>
<li>I&#x2F;O模型监听到事件时，执行 accept、close。</li>
<li></li>
</ol>
<p>天脉可以使用 socket ， 天脉3 在运行过程中不能申请信号量。</p>
<h3 id="指令规则"><a href="#指令规则" class="headerlink" title="指令规则"></a>指令规则</h3><h3 id="Shell-主函数"><a href="#Shell-主函数" class="headerlink" title="Shell 主函数"></a>Shell 主函数</h3><p>该函数使用的关键接口允许被调用且重新拼凑。</p>
<h3 id="访问权限控制-1"><a href="#访问权限控制-1" class="headerlink" title="访问权限控制"></a>访问权限控制</h3><p>数据库 user_db<br>用户表  user_table：</p>
<table>
<thead>
<tr>
<th align="center">属性</th>
<th align="center">标识</th>
<th align="center">字符类型</th>
</tr>
</thead>
<tbody><tr>
<td align="center">用户名</td>
<td align="center">user</td>
<td align="center">int(4)</td>
</tr>
<tr>
<td align="center">密码</td>
<td align="center">auth</td>
<td align="center">int(4)</td>
</tr>
<tr>
<td align="center">token</td>
<td align="center">token</td>
<td align="center">int(4)</td>
</tr>
</tbody></table>
<h3 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h3><p>是否需要将错误以链表的方式进行记录并且查阅？</p>
<h3 id="日志记录组件"><a href="#日志记录组件" class="headerlink" title="日志记录组件"></a>日志记录组件</h3><p>在使用一般的函数调用进行记录的基础上进行如下扩展：</p>
<ol>
<li>为防止写冲突(或者说写抢占，即出现内容缺失)的情况，设定一段缓冲区；</li>
<li>扩展其格式；</li>
<li>将错误码写入该组件。</li>
</ol>
<h3 id="SQL基本函数封装"><a href="#SQL基本函数封装" class="headerlink" title="SQL基本函数封装"></a>SQL基本函数封装</h3><p>对aeci层接口进行封装，该部分封装为后续：</p>
<ol>
<li>增加支持多字节。</li>
<li>aeci层代码更迭。</li>
</ol>
<p>aeci_xml_export<br>aeci_schedule_backup<br>aeci_mirror_init</p>
<h3 id="SQL基本函数执行"><a href="#SQL基本函数执行" class="headerlink" title="SQL基本函数执行"></a>SQL基本函数执行</h3><p>open ‘database-name’ ( ‘database-file-name’ ) ‘;’<br>select (‘*’) from <table-name> where <condition> ‘;’<br>update <table-name> set <field-name> ‘&#x3D;’ <expression> {‘,’ <field-name> ‘&#x3D;’ <expression>} where <condition> ‘;’<br>create table <table-name> ‘(‘<field-name> <field-type> {‘,’ <field-name> <field-type>}’)’ ‘;’<br>alter table <table-name> ‘(‘<field-name> <field-type> {‘,’ <field-name> <field-type>}’)’ ‘;’<br>rename <table-name> ‘.’ <old-field-name> ‘to’ <new-field-name> ‘;’<br>delete from <table-name><br>drop table <table-name><br>drop index <table-name> {‘.’ <field-name>} ‘;’<br>create index on <table-name> {‘.’ <field-name>} ‘;’<br>drop hash <table-name> {‘.’ <field-name>};<br>create hash on <table-name> {‘.’ <field-name>}field&gt; ‘;’<br>insert into <table-name> values ‘(‘ <value>{‘,’ <value>} ‘)’ ‘;’<br>backup [compactify] ‘file-name’<br>start server URL number-of-threads<br>stop server URL<br>start http server URL<br>stop http server<br>describe <table-name><br>import ‘xml-file-name’<br>export ‘xml-file-name’<br>show<br>profile<br>commit<br>rollback<br>autocommit (on|off)</p>
<p>char* com1[] &#x3D; {<br>    (char*)”open ‘user_db’;\n” ,<br>    (char*)”create table user_table (uid int4, pwd int4);\n”,<br>    (char*)”insert into user_table values ( 8102 ,234542);\n”,<br>    (char*)”insert into user_table values ( 8103 ,345465);\n”,<br>    (char*)”select * from user_table;\n”,<br>    (char*)”exit;\n”,<br>};</p>
<p>首先一个问题就是，目前没有可以执行SQL语句的接口函数，所以:</p>
<ol>
<li>自己建立一个简单的识别操作，只通过识别主要的关键几个SQL语句的前几个字符，调用相关接口。在调用接口的过程中，返回的仍然是一串地址空间。</li>
<li>使用SQLTOOL中的代码，达到执行SQL语句的目的，并且通过对缓冲区进行取数据，拿到结果集。</li>
</ol>
<p>在此基础上有两步，第一个是执行SQL语句，第二个是返回结果集。一般的SQL语句只需要执行并且返回结果就可以，但是Select语句需要返回一个结果集。</p>
<p>第一个方法，自己建立简单的识别操作。执行对应的接口，并且得到反馈。复杂在第一步执行SQL语句上，需要识别短暂的过程。而且，目前的aeci层不支持SQL语句的解析， insert的时候只能以数据结构的方式进行插入。包括建立表格的时候也只能使用数据结构的方式进行建立。在这个前提下很难采取此类方法。select查询语句查询出的也是一段空间。<br>第二个方法，使用SQLTOOL。该类方法，可以直接使用SQL语句，并且反馈数据。执行select语句时，将会输出内容，该部分内容只能以缓冲区方式呈现。而且只有输入输出。</p>
<p>采用使用SQLTOOL的方式进行执行SQL语句。使用一个独立的线程，进行执行SQL语句。使用两个互斥锁，达到对线程执行的绝对控制权。但是关于这方面还有待验证。似乎在不同时间段进行执行有不同效果。</p>
<h3 id="setup-dll"><a href="#setup-dll" class="headerlink" title="setup dll"></a>setup dll</h3><p>主要是依托于函数 ConfigDSNW 。 </p>
<p>希望能够在配置数据源时，弹出窗口[MFC]，写入目标 ip 地址和端口。<br>然后调用函数 SQLWritePrivateProfileString 将配置写入系统。</p>
<p>在 SQLConnect 时 ，调用函数 SQLGetPrivateProfileString  将配置读出。<br>完成整个体系内容。</p>
<p>MFC 这一块先行搁置，先实现基本内容。</p>
<h3 id="installer驱动安装程序"><a href="#installer驱动安装程序" class="headerlink" title="installer驱动安装程序"></a>installer驱动安装程序</h3><p>描述字段：<br>“MySQL ODBC 8.0 Unicode Driver”<br>“DRIVER&#x3D;myodbc8w.dll;SETUP&#x3D;myodbc8S.dll”<br>“DRIVER&#x3D;MySQL ODBC 8.0 Unicode Driver;SERVER&#x3D;localhost;DATABASE&#x3D;test;UID&#x3D;myid;PWD&#x3D;mypwd”</p>
<h3 id="生成-ODBC-dll"><a href="#生成-ODBC-dll" class="headerlink" title="生成 ODBC dll"></a>生成 ODBC dll</h3><p>主要需要注意的是应用程序的字符集和系统位是否一致。<br>当ODBC调用dll中的函数时，会先行执行 SQLGetFunctions 和 SQLGetInfo 函数确定是否有该信息。</p>
<p>存放在<br>C:\Windows\SysWOW64</p>
<h3 id="应用程序调用机制"><a href="#应用程序调用机制" class="headerlink" title="应用程序调用机制"></a>应用程序调用机制</h3><p><code>在应用程序调用函数（SQLConnect、SQLDriverConnect或SQLBrowseConnect）连接到驱动程序之前，驱动程序管理器不会连接到驱动程序。在此之前，驱动程序管理器使用自己的句柄并管理连接信息。</code></p>
<p>在驱动dll中重写了各种标准接口，并且Def定义并提供。<br>之后应用程序调用标准接口函数时，驱动管理程序将应用程序的调用方式传递给驱动dll，执行dll中的函数接口内容。</p>
<h3 id="技术栈-x2F-内容依赖"><a href="#技术栈-x2F-内容依赖" class="headerlink" title="技术栈&#x2F;内容依赖"></a>技术栈&#x2F;内容依赖</h3><p>MSVC 19.28.29910.0</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">include</span> <span class="string">&lt;sql.h&gt;</span>       <span class="comment">//含有SQL_()标准函数</span></span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span> <span class="string">&lt;sqlext.h&gt;</span>    <span class="comment">//</span></span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span> <span class="string">&lt;odbcinst.h&gt;</span>  <span class="comment">//含有关于安装程序DLL标准SQL_()函数</span></span></span><br></pre></td></tr></table></figure>

<p>每个项目三个配置项：<br>C&#x2F;C++ [附加包含目录]<br>链接器 常规 [附加库目录]<br>链接器 [输入]</p>
<p>AgilorE:<br>C&#x2F;C++ [附加包含目录]<br>$(ProjectDir)inc\include\tzdbcom;$(ProjectDir)inc\include;inc;%(AdditionalIncludeDirectories)</p>
<p>tzdb-odbc:<br>C&#x2F;C++ [附加包含目录]<br>$(ProjectDir)inc\tzdbras;$(ProjectDir)inc\tzdbodbc;$(ProjectDir)..\tzdb-win\inc\include\tzdbcom;$(ProjectDir)..\tzdb-win\inc\include;$(ProjectDir)..\tzdb-win\inc;$(ProjectDir)..\tzdb-win\Debug;%(AdditionalIncludeDirectories)</p>
<p>tzdbodbc-install:<br>C&#x2F;C++ [附加包含目录]<br>$(ProjectDir)include\tzdbodbc_installer;$(ProjectDir)..\tzdb-odbc-setup\include\tzdb_odbc_setup;<br>链接器 常规 [附加库目录]<br>$(SolutionDir)Debug<br>链接器 [输入]<br>tzdb-odbc-setup.lib;ws2_32.lib;odbccp32.lib;Secur32.lib;legacy_stdio_definitions.lib;Dnsapi.lib;kernel32.lib;user32.lib;gdi32.lib;winspool.lib;shell32.lib;ole32.lib;oleaut32.lib;uuid.lib;comdlg32.lib;advapi32.lib</p>
<p>tzdb-odbc-setup<br>C&#x2F;C++ [附加包含目录]<br>$(ProjectDir)include\tzdb_odbc_setup;$(ProjectDir);<br>链接器 [输入]<br>ws2_32.lib;odbccp32.lib;Secur32.lib;legacy_stdio_definitions.lib;Dnsapi.lib;kernel32.lib;user32.lib;gdi32.lib;winspool.lib;shell32.lib;ole32.lib;oleaut32.lib;uuid.lib;comdlg32.lib;advapi32.lib</p>
<p>tzdbodbc-test<br>C&#x2F;C++ [附加包含目录]<br>$(ProjectDir)..\tzdb-win\inc\include\tzdbcom;$(ProjectDir)..\tzdb-win\inc\include;$(ProjectDir)..\tzdb-win\inc;$(ProjectDir)..\tzdb-win\Debug;<br>$(ProjectDir)..\tzdbodbc-installer\include\tzdbodbc_installer;$(ProjectDir)..\tzdb-odbc-setup\include\tzdb_odbc_setup;<br>$(ProjectDir)inc\tzdbtest;<br>$(ProjectDir)..\tzdb-ras\inc\tzdbras;$(ProjectDir)..\tzdb-ras\inc\tzdbodbc;<br>%(AdditionalIncludeDirectories)<br>链接器 常规 [附加库目录]<br>$(ProjectDir)..\tzdb-win\Debug;%(AdditionalLibraryDirectories)<br>链接器 [输入]<br>AgilorE.lib;tzdb-odbc-setup.lib;tzdb-odbc.lib;kernel32.lib;user32.lib;gdi32.lib;winspool.lib;comdlg32.lib;advapi32.lib;shell32.lib;ole32.lib;oleaut32.lib;uuid.lib;odbccp32.lib;ws2_32.lib</p>
<h3 id="ODBC-SQL-函数"><a href="#ODBC-SQL-函数" class="headerlink" title="ODBC SQL 函数"></a>ODBC SQL 函数</h3><p>针对于关键的主要函数的研发。</p>
<ol>
<li>SQLGetInfo ，估计是提供了系统的关键参数。</li>
<li>SQLGetFunctions , 该函数标明了驱动程序支持的方法接口。</li>
<li>SetConnectAttr ， SQLGetStmtAttr 之类的获取设置的函数。该部分表明了其参数配置。</li>
<li>SQLGetDiagField 和 SQLGetDiagRec。在执行 SQL 语句的过程中，数以千计地调用了这两个函数， 预计是接口未有支持的原因导致一直调用。</li>
</ol>
<p>目前只到以上部分。先解决 JAVA 的有无问题。</p>
<h3 id="JDBC"><a href="#JDBC" class="headerlink" title="JDBC"></a>JDBC</h3><p>比 ODBC 简单一些。</p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/43c865e3a286">参考网站</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/rongfengliang/p/13788390.html">参考网站</a></p>
<p>通过以上两个网站的学习，已经明确整个体系结构。<br>并且完成体系中的连接测试，可以连接上。</p>
<p>继承的类如下： Driver，Connection，DatabaseMetaData。<br>    有需要则可以再继承 ResultSet。</p>
<p>之后的开发只有一个要求，就是快速。</p>
<p>首先日志系统直接使用 log4j。<br>通信组件直接翻译式编写。<br>主类直接写便可。<br>而对于指令执行系统。如果不行则采用最原始的方式。因为在 C++ 中，我们可以使用指针函数对方法进行动态定义。预计在 JAVA 中只能使用多态进行。</p>
<p>还有一个点就是 网络组件的问题。似乎在 JDBC 的默认体系中，使用 http 会多一些。</p>
<p>只要 client 端的通信结构。使用 Socket 即可。</p>
<p>首先编写主类中的伪代码，再确定需要补足的部分。</p>
<p>在 Statement 中主要有三个执行 SQL 语句的方法：</p>
<ol>
<li>executeUpdate 主要用于 删除、创建表、更新、插入数据。</li>
<li>executeQuery 用于查询</li>
<li>execute 普适的执行 SQL 语句方法</li>
</ol>
<p>JAVA 对我这样的 C++ 使用者来说很不友好：</p>
<ol>
<li>操作受限。</li>
<li>函数返回值有限</li>
<li>随意的操作感觉效率很低。</li>
</ol>
<p>SQLException 值得注意。</p>
<p>注意：<br>java 中的程序结构是加壳在生成数据之后的。</p>
<p>有没有一种这样的可能性， Java 的错误异常抛出等效于 C++ 中的返回值。</p>
<p>有一个启示，我们可以在 C++ 编程中使用类似的手段，不进行返回值作为错误码，而是以抛出异常的方式来进行错误分析。<br>在设计 C++ 接口时，我们将返回值和参数做有机的结合，而不将错误码归并到一起。</p>
<h3 id="Python-ODBC"><a href="#Python-ODBC" class="headerlink" title="Python ODBC"></a>Python ODBC</h3><p>连接不上数据库，是因为，在 windows 系统下的 DSN 中，该驱动程序和系统的位数有关。<br>经过测试，在 pyodbc 中是可以连接上 ODBC 布置在 windows 上的驱动程序的。<br>所以 python 接口无需开发。但是面临的问题就是，需要扩展 ODBC 中的标准接口，以达到能够使用的程度，详见 ODBC SQL 函数 部分。</p>
<p>pyodbc 似乎绕过了驱动管理程序，从而不支持 SQLGetPrivateProfileString 函数。<br>python 测试用例返回错误：</p>
<pre><code>pyodbc.Error: (&#39;HY000&#39;, &#39;The driver did not supply an error!&#39;)
</code></pre>
<p>是统一的特征报错，怀疑是未支持错误处理原因。</p>
<p>连接数据库成功之后， pyodbc 调用了三次如下函数：<br>[202203241005][INFO]SQLAllocHandle<br>[202203241005][INFO]SQLAllocStmt<br>[202203241005][INFO]SQLGetStmtAttr:10010<br>[202203241005][INFO]SQLGetStmtAttr:10011<br>[202203241005][INFO]SQLGetStmtAttr:10012<br>[202203241005][INFO]SQLGetStmtAttr:10013<br>[202203241005][INFO]SQLGetTypeInfo<br>[202203241005][INFO]SQLFetch<br>[202203241005][INFO]SQLFreeStmt<br>[202203241005][INFO]SQLFreeHandle</p>
<p>执行了 6 条 SQL 语句，发现 pyodbc 调用了 6 次以下方法进行基本实现：<br>[202203241005][INFO]SQLExecDirect<br>[202203241005][INFO]SQLRowCount<br>[202203241005][INFO]SQLNumResultCols<br>[202203241005][INFO]SQLFreeStmt</p>
<p>最后调用了：<br>[202203241005][INFO]SQLFreeHandle<br>[202203241005][INFO]SQLEndTran<br>[202203241005][INFO]SQLGetInfo<br>[202203241005][INFO]SQLDisconnect</p>
<p>提示 ：</p>
<pre><code>pyodbc.ProgrammingError: No results.  Previous SQL was not a query.
</code></pre>
<p>改 BUG 整改完毕。<br>没有进行查询是因为通过函数 SQLNumResultCols 判定是无结果集的。<br>改进之后调用函数<br>[202203241452][INFO]SQLDescribeCol<br>[202203241452][INFO]SQLDescribeCol<br>[202203241452][INFO]SQLDescribeCol<br>[202203241005][INFO]SQLFreeStmt<br>[202203241452][INFO]SQLFreeHandle<br>[202203241452][INFO]SQLEndTran<br>[202203241452][INFO]SQLGetInfo<br>[202203241452][INFO]SQLDisconnect</p>
<p>三次调用 SQLDescribeCol 。<br>在此接口中使用伪数据方式进行测试验证，证明 python 为可行。</p>
<p>这里不使用正常数据是因为还未完全支持 MetaResult 。</p>
<h2 id="四、开发流程记录"><a href="#四、开发流程记录" class="headerlink" title="四、开发流程记录"></a>四、开发流程记录</h2><p>[8.09]<br>复盘调研结果，调研运行流程<br>[8.16]<br>远程访问服务，ODBC调研部分正式结束。<br>[8.18]<br>组内讨论方案可行性<br>[8.24]<br>installer Demo编写完成<br>setup Demo编写完成<br>[8.26]<br>通过应用程序调用驱动程序接口。系统流程Demo基本走通。<br>该Demo还欠缺驱动程序和数据库之间的流程联系。但这部分认为是可控的。<br>后续不知道从声明地方开始，其实可以参照《主体驱动文件系统.xmind》进行，从SQL标准接口的转换开始，然后对于该部分实现C++基本接口的server内容。再进行另一个不交叉的线路实现client中的调用内容。<br>client中的内容与数据结构被封装后可以形成ODBC SQL标准接口函数。<br>[9.03]<br>socket组件封装完成，创建socket类。<br>接下来就是确定，是否需要connect类作为连接句柄的中间类。<br>[9.09]<br>主体层次已经非常清楚。<br>[9.14]<br>可以说到目前，成品的形态和结构以及可以窥见。虽说细节不太清楚，但是都不算是前期问题。<br>但是今天看到Mysql源码，<code>libmysqld, the Embedded MySQL Server Library</code>，说明mysql是有一套专门用在嵌入式server的代码？<br>接下来的开发过程，可以边学习MySQL的接口内容，从而完善项目。<br>[9.15]<br>完成基本完全Demo。<br>[9.16]<br>搭建Git仓库进行版本管理，当代码成型时应当废除。<br>[9.25]<br>拟搭建server中的多线程模式，拟实现连接池方案，但是为了功能性上的先行完善，暂时搁置该策略。<br>[10.11]<br>之前已经完成了SQL语句执行问题，使用SQLTOOL进行语法解析。<br>下一步就是</p>
<ol>
<li>完成结果集的处理。</li>
<li>进行编写其他的SQL标准接口功能。</li>
<li>打磨关于socket的相关内容与协议。</li>
<li>server的多任务线程池与网络I&#x2F;O模型。<br>[10.12]<br>完成关于关键技术在锐华上的移植。<br>[10.14]<br>不要着急，沉着并且提高效率。如果不急的话，一个程序工作内容两个小时就可以完成。<br>[10.15]<br>完成结果集的取操作。<br>[10.18]<br>完成基本功能代码在锐华上的适配。<br>[10.19]<br>关于代码中的四个主要句柄的问题。<br>目前server_info和环境句柄ENV感觉有所重复。<br>描述符句柄的用处可以更多，且包含了结果集数据结构的功能。<br>连接句柄和主类TZDB有一定的重复。<br>语句句柄C++接口也需要一个，并且和数据库源码之间仍有联系。<br>但是如果转换的话那么结构体之类的东西就需要有一定的变换。<br>比较好的方式是直接使用ODBC标准的内容数据结构。<br>将功能化相同的数据结构合并为一个数据结构，并且进行类型的转换。<br>今天将代码演示了一遍，目前ODBC的进度已经被判定为缓慢。<br>[10.24]<br>就不应该用 aeci 层接口，以后开发禁止使用陈旧没人维护的接口。</li>
</ol>
<p>insert into user_table values ( 8103 ,345465);</p>
<h3 id="问题记录"><a href="#问题记录" class="headerlink" title="问题记录"></a>问题记录</h3><ol>
<li>[0]SQLTOOL存在报错：当数据库建立之后，再打开时出现。怀疑是数据库未正常关闭。</li>
<li>[2]应用程序连接数据源，驱动程序定位到指定ip和port的过程目前是由程序确定的。但该过程应该是暂存到一个信息记录中进行读取，该部分需要考察和确定。<br> 在mysql中，配置数据源的时候需要指定 TCP&#x2F;IP Server的IP和端口port。</li>
<li>[0]接口更新，以及为什么不用旧的接口。</li>
<li>[1]global中与时间相关函数的重写。</li>
<li>[4]ConProtocal中关于IO模型的相关函数重写。</li>
<li>[3]ConPool中线程池编写。</li>
<li>[0]itoa函数重写，AccessPer。</li>
<li>[1]AccessPer中使用的aeci层接口新版无法查询。</li>
<li>[2]添加主动注册信息的状态接口。</li>
<li>[0]tzdb_stmt_fetch中逻辑错误,判断tzdb-&gt;cursor &#x3D;&#x3D; NULL时机不对.</li>
<li>[1]client端接收,当server端断开时存在问题.</li>
<li>[1]关于 SQLTOOL 线程在程序结束时的问题。</li>
</ol>
<h3 id="待优化问题"><a href="#待优化问题" class="headerlink" title="待优化问题"></a>待优化问题</h3><ol start="9">
<li>[1]server中用户认证token对比的代码分布。</li>
<li>[1]添加本地的表，存储ODBC体系中的数据源信息。</li>
</ol>
<h4 id="已解决问题"><a href="#已解决问题" class="headerlink" title="已解决问题"></a>已解决问题</h4><ol start="9">
<li>[1]server中用户认证添加验证信息问题。</li>
</ol>
<h3 id="适配问题"><a href="#适配问题" class="headerlink" title="适配问题"></a>适配问题</h3><p>windows， 天脉2， 天脉3， 锐华。</p>
<h4 id="锐华"><a href="#锐华" class="headerlink" title="锐华"></a>锐华</h4><ol>
<li>socket的适配</li>
<li>ODBC标准文件宏进行兼容</li>
</ol>
<p>修改项：</p>
<ol>
<li><p>AeCI.cpp<br>注释大部分内容</p>
</li>
<li><p>AeCILocal.h<br>将函数void *initERR(MCO_RET i);定义改为声明，并且将其定义式存放在AeCILocal.cpp中</p>
</li>
<li><p>SQLTool.cpp SQLTool.h<br>拟更新dbDatabase::open函数中接口问题</p>
</li>
<li><p>疑点：<br> 为什么不用新接口来着</p>
</li>
<li><p>是否可以不用AecI层文件</p>
</li>
</ol>
<h5 id="Recording"><a href="#Recording" class="headerlink" title="Recording"></a>Recording</h5><p>ifconfig syn0 192.168.1.100</p>
<p>boot t<a href="ftp://192.168.1.102/reworks.elf">ftp://192.168.1.102/reworks.elf</a></p>
<p>SATA支持<br>控制台<br>强制链接库<br>shell<br>LWIP协议栈</p>
<p>883<br>1 extend call : 7883<br>in:330801 extend call : 7883</p>
<h3 id="版本管理-Git仓库"><a href="#版本管理-Git仓库" class="headerlink" title="版本管理 - Git仓库"></a>版本管理 - Git仓库</h3><ol>
<li>windows版本 gitlab，局域网内可以访问。</li>
<li>只需要五个项目中的头文件与源码文件。</li>
<li>收集常用的指令。</li>
<li>建立两个分支。</li>
</ol>
<p>管理员：<br>密码见[9.13]周报</p>
<p>地址域：<br>ip : 192.168.1.105<br><a target="_blank" rel="noopener" href="http://localhost:3000/iTheds/tzdb-ras.git">http://localhost:3000/iTheds/tzdb-ras.git</a><br><a target="_blank" rel="noopener" href="http://192.168.1.105:3000/iTheds/tzdb-ras.git">http://192.168.1.105:3000/iTheds/tzdb-ras.git</a></p>
<p>在代码基本成型时废除该Git仓库，并转接到主要Git仓库。</p>
<h3 id="想法1"><a href="#想法1" class="headerlink" title="想法1"></a>想法1</h3><p>8.20 前开发基本模型Demo。windows驱动管理器可以识别并且使用部分功能。</p>
<p>通信模块开发。需要提前抓包或者查看mysql的 SQLExec() 过程。<br>远程连接管理模块。连接池。<br>SQL_API 开发。需要深入学习数据库知识和了解TZDB源码。<br>链路安全，问题。</p>
<h3 id="想法2"><a href="#想法2" class="headerlink" title="想法2"></a>想法2</h3><p>[9.6]<br>还是需要多讨论各种层面的可行性。<br>该项目越是存在技术盲点，调研成本越是大，就越需要提供学习方式，供组内进行讨论其可行性。特别是项目中期。<br>如果对于一些事很纠结，遵循第一想法原则进行实现。</p>
<h3 id="想法3"><a href="#想法3" class="headerlink" title="想法3"></a>想法3</h3><p>[10.18]<br>想把代码重新构建整理一下，包括命名和结构体以及之前的编码习惯的改变。<br>对于开发的方向需要更明确，以四个主要的类进行开发。<br>有些东西现有的数据库源码中就存在，但是这部分先不考虑。<br>其实时间还是很紧张。<br>因为关于环境句柄和语句句柄还是未实践的东西，因为它们目前并没有对功能性有太大影响，然后关于JDBC和Python-odbc两者还是不太清楚的，还需要学一下两者的语言。<br>包括日常对于数据库源码的学习也有待推进。<br>[10.20]<br>目前比较关键的是四个主类的功能分配。</p>
<h3 id="开发模型"><a href="#开发模型" class="headerlink" title="开发模型"></a>开发模型</h3><p>由于本模块有着扩展功能不明确但是需要符合官方标准的特点，所以采用增量模型的思想。<br>考虑快速原型模型(Rapid Prototype Model)。<br>先需求、后构建、再测试，重复此过程，直到在满足已知的模型的情况下确保交付无误。<br>开发期间满足以下要求：</p>
<ol>
<li>先实验整个路径过程，确认无误再开发；</li>
</ol>
<h2 id="五、测试"><a href="#五、测试" class="headerlink" title="五、测试"></a>五、测试</h2><p>新建项目tzdbodbc-test进行测试。<br>在测试的过程中，将 tzdb-odbc 编译为lib库以方便调试。</p>
<p>这种方法可以看到实时调试的内存数据。</p>
<h2 id="六、交付"><a href="#六、交付" class="headerlink" title="六、交付"></a>六、交付</h2><h2 id="七、维护"><a href="#七、维护" class="headerlink" title="七、维护"></a>七、维护</h2><h1 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h1><h2 id="接口关键字检索"><a href="#接口关键字检索" class="headerlink" title="接口关键字检索"></a>接口关键字检索</h2><p>ODBC分配句柄接口<br>EDB-USER-INTF-OAHD<br>SQLAllocHandle</p>
<p>ODBC主动连接接口<br>EDB-USER-INTF-OCON<br>SQLConnect</p>
<p>ODBC获取信息接口<br>EDB-USER-INTF-OGIF<br>SQLGetInfo</p>
<p>ODBC方法支持接口<br>EDB-USER-INTF-OGFU<br>SQLGetFunctions</p>
<p>ODBC类型支持接口<br>EDB-USER-INTF-OGTY<br>SQLGetTypeInfo</p>
<p>ODBC连接属性设置接口<br>EDB-USER-INTF-OSCO<br>SQLSetConnectAttr</p>
<p>ODBC连接属性检索接口<br>EDB-USER-INTF-OGCO<br>SQLGetConnectAttr</p>
<p>ODBC环境设置接口<br>EDB-USER-INTF-OSEN<br>SQLSetEnvAttr</p>
<p>ODBC检索环境设置接口<br>EDB-USER-INTF-OGEN<br>SQLGetEnvAttr</p>
<p>ODBC语句设置接口<br>EDB-USER-INTF-OSSM<br>SQLSetStmtAttr</p>
<p>ODBC检索语句设置接口<br>EDB-USER-INTF-OGSM<br>SQLGetStmtAttr</p>
<p>ODBC检索单个描述符字段接口<br>EDB-USER-INTF-OGDF<br>SQLGetDescField</p>
<p>ODBC检索多个描述符字段接口<br>EDB-USER-INTF-OGDR<br>SQLGetDescRec</p>
<p>ODBC复制描述符接口<br>EDB-USER-INTF-OCDE<br>SQLCopyDesc</p>
<p>ODBC预执行SQL接口<br>EDB-USER-INTF-OPRE<br>SQLPrepare</p>
<p>ODBC执行SQL语句接口<br>EDB-USER-INTF-OEXE<br>SQLExecute</p>
<p>ODBC执行就绪SQL语句接口<br>EDB-USER-INTF-OEXD<br>SQLExecDirect</p>
<p>ODBC检索SQL语句参数描述接口<br>EDB-USER-INTF-ODEP<br>SQLDescribeParam</p>
<p>ODBC检索结果集接口<br>EDB-USER-INTF-OGDA<br>SQLGetData</p>
<p>ODBC检索结果集行数接口<br>EDB-USER-INTF-ORCU<br>SQLRowCount</p>
<p>ODBC检索结果集列属性接口<br>EDB-USER-INTF-OCOL<br>SQLColAttribute</p>
<p>ODBC设置游标接口<br>EDB-USER-INTF-OPOS<br>SQLSetPos</p>
<p>ODBC检索单个诊断信息接口<br>EDB-USER-INTF-OGDAF<br>SQLGetDiagField</p>
<p>ODBC检索多个诊断信息接口<br>EDB-USER-INTF-OGDAR<br>SQLGetDiagRec</p>
<p>ODBC语句句柄结束处理接口<br>EDB-USER-INTF-OFRSM<br>SQLFreeStmt</p>
<p>ODBC关闭游标接口<br>EDB-USER-INTF-OCCU<br>SQLCloseCursor</p>
<p>ODBC关闭连接接口<br>EDB-USER-INTF-ODCO<br>SQLDisconnect</p>
<p>ODBC释放句柄接口<br>EDB-USER-INTF-OFRH<br>SQLFreeHandle</p>
<hr>
<p>远程C&#x2F;C++连接接口<br>EDB-USER-INTF-NCONT</p>
<p>远程C&#x2F;C++预执行SQL语句接口<br>EDB-USER-INTF-PSQLE</p>
<p>远程C&#x2F;C++执行SQL语句接口<br>EDB-USER-INTF-DSQLE</p>
<p>远程C&#x2F;C++获取结果集接口<br>EDB-USER-INTF-GSRES</p>
<p>远程C&#x2F;C++检索表权限接口<br>EDB-USER-INTF-GTABP</p>
<p>远程C&#x2F;C++设置游标接口<br>EDB-USER-INTF-SETCU</p>
<p>远程C&#x2F;C++检索结果集属性列接口<br>EDB-USER-INTF-GETCL</p>
<p>远程C&#x2F;C++检索单个诊断信息接口<br>EDB-USER-INTF-GSDIA</p>
<p>远程C&#x2F;C++检索多个诊断信息接口<br>EDB-USER-INTF-GMDIA</p>
<p>远程C&#x2F;C++语句句柄结束处理接口<br>EDB-USER-INTF-FRSMT</p>
<p>远程C&#x2F;C++关闭游标接口<br>EDB-USER-INTF-CLOCU</p>
<p>远程C&#x2F;C++关闭连接接口<br>EDB-USER-INTF-CLOCO</p>
<hr>
<p>远程JAVA建立连接接口<br>EDB-USER-INTF-JNCONT</p>
<p>远程JAVA创建语句句柄接口<br>EDB-USER-INTF-JAHS</p>
<p>远程JAVA执行SQL语句接口<br>EDB-USER-INTF-JDSQL</p>
<p>远程JAVA获取结果集接口<br>EDB-USER-INTF-JGRES</p>
<p>远程JAVA获取结果集元数据接口<br>EDB-USER-INTF-JGEME</p>
<p>远程JAVA获取结果集元数据列数接口<br>EDB-USER-INTF-JGEMR</p>
<p>远程JAVA关闭语句句柄接口<br>EDB-USER-INTF-JCHS</p>
<p>远程JAVA关闭连接接口<br>EDB-USER-INTF-JCLS</p>
<hr>
<p>远程Python建立连接接口<br>EDB-USER-INTF-PNCONT</p>
<p>远程Python获取游标接口<br>EDB-USER-INTF-PGCUR</p>
<p>远程Python执行SQL语句接口<br>EDB-USER-INTF-PDSQL</p>
<p>远程Python循环访问获取结果集接口<br>EDB-USER-INTF-PFETC</p>
<p>远程Python提交事务接口<br>EDB-USER-INTF-PCOMIT</p>
<p>远程Python关闭连接接口<br>EDB-USER-INTF-PCLS</p>
<h2 id="代码体系-旧版"><a href="#代码体系-旧版" class="headerlink" title="代码体系[旧版]"></a>代码体系[旧版]</h2><p>主要文件结构如下：19个.h，16个.cpp。<br>配置文件 config.h<br>技术栈调用文件 ras_lib.h<br>公用代码 global.cpp<br>    上层抽象类数据结构 struct.cpp<br>        访问控制接口[转换] access_per.cpp<br>        日志文件接口[转换] log_api.cpp<br>        数据库SQL标准接口[转换] sql_api.cpp<br>    链路加密文件 encrypt.cpp<br>        基本通信 communicate.cpp<br>    连接池 connect_pool.cpp<br>        连接管理连接句柄操作 connect.cpp<br>    环境句柄管理与操作 env.cpp<br>    语句句柄管理与操作 stmt.cpp<br>SQL_()标准接口 DBODBC.cpp<br>    SQL_()扩展接口 DBODBCext.cpp<br>        安装程序 installer.cpp<br>        客户端程序 DBclient.cpp<br>        服务端程序 DBserver.cpp<br>        总调用文件 tzdb_driver.h</p>
<p>[10.18]<br>项目目录：<br>宏定义关键字表 ras_keyword.h<br>    技术栈调用文件 ras_lib.h<br>        公用代码 global.cpp<br>            上层抽象类及数据结构 struct.cpp<br>                网络通信组件 communicate.cpp<br>                    通信协议以及指令分析 connect.cpp<br>                        连接池 connect_pool.h<br>                访问控制接口[转换]access_per.cpp<br>                日志文件接口[转换] log_api.cpp<br>                数据库SQL标准接口[转换] sql_api.cpp &#x2F;&#x2F;启用，该接口无意义<br>TZDB相关服务端主要函数 server.cpp<br>C++接口函数(客户端) libtzdb.cpp<br>    环境句柄管理与操作 env.cpp<br>    语句句柄管理与操作 stmt.cpp<br>    连接句柄管理与操作 dbc.cpp<br>    描述符句柄管理与操作 desc.cpp<br>    SQL_()标准接口 DBODBC.cpp<br>    SQL_()扩展接口 DBODBCext.cpp<br>        ODBC主要数据结构及方法 tzdb_odbc_driver.h<br>驱动程序 tzdb-odbc.dll</p>
<p>配置驱动 tzdb-odbc-setup.dll<br>安装程序 installer.cpp</p>
<h2 id="关键信息格式"><a href="#关键信息格式" class="headerlink" title="关键信息格式"></a>关键信息格式</h2><h3 id="驱动描述符"><a href="#驱动描述符" class="headerlink" title="驱动描述符"></a>驱动描述符</h3><h2 id="API接口实现"><a href="#API接口实现" class="headerlink" title="API接口实现"></a>API接口实现</h2><h3 id="API接口全集"><a href="#API接口全集" class="headerlink" title="API接口全集"></a>API接口全集</h3><table>
<thead>
<tr>
<th>函数名称</th>
</tr>
</thead>
<tbody><tr>
<td>SQLAllocHandle</td>
</tr>
<tr>
<td>SQLConnect</td>
</tr>
<tr>
<td>SQLDriverConnect</td>
</tr>
<tr>
<td>SQLBrowseConnect</td>
</tr>
<tr>
<td>SQLDataSources SQLDrivers</td>
</tr>
<tr>
<td>SQLGetInfo</td>
</tr>
<tr>
<td>SQLGetFunctions</td>
</tr>
<tr>
<td>SQLGetTypeInfo</td>
</tr>
<tr>
<td>SQLSetConnectAttr SQLGetConnectAttr</td>
</tr>
<tr>
<td>SQLSetEnvAttr</td>
</tr>
<tr>
<td>SQLGetEnvAttr</td>
</tr>
<tr>
<td>SQLSetStmtAttr</td>
</tr>
<tr>
<td>SQLGetStmtAttr</td>
</tr>
<tr>
<td>SQLGetDescField SQLGetDescRec</td>
</tr>
<tr>
<td>SQLSetDescField</td>
</tr>
<tr>
<td>SQLSetDescRec</td>
</tr>
<tr>
<td>SQLCopyDesc</td>
</tr>
<tr>
<td>SQLPrepare</td>
</tr>
<tr>
<td>SQLBindParameter</td>
</tr>
<tr>
<td>SQLGetCursorName</td>
</tr>
<tr>
<td>SQLSetCursorName</td>
</tr>
<tr>
<td>SQLSetScrollOptions</td>
</tr>
<tr>
<td>SQLExecute SQLExecDirect</td>
</tr>
<tr>
<td>SQLNativeSql</td>
</tr>
<tr>
<td>SQLDescribeParam</td>
</tr>
<tr>
<td>SQLNumParams</td>
</tr>
<tr>
<td>SQLParamData</td>
</tr>
<tr>
<td>SQLPutData</td>
</tr>
<tr>
<td>SQLRowCount SQLNumResultCols</td>
</tr>
<tr>
<td>SQLDescribeCol</td>
</tr>
<tr>
<td>SQLColAttribute</td>
</tr>
<tr>
<td>SQLBindCol</td>
</tr>
<tr>
<td>SQLFetch</td>
</tr>
<tr>
<td>SQLFetchScroll</td>
</tr>
<tr>
<td>SQLGetData</td>
</tr>
<tr>
<td>SQLSetPos</td>
</tr>
<tr>
<td>SQLBulkOperations</td>
</tr>
<tr>
<td>SQLMoreResults</td>
</tr>
<tr>
<td>SQLGetDiagField</td>
</tr>
<tr>
<td>SQLGetDiagRec</td>
</tr>
<tr>
<td>SQLColumnPrivileges SQLColumns</td>
</tr>
<tr>
<td>SQLForeignKeys</td>
</tr>
<tr>
<td>SQLPrimaryKeys</td>
</tr>
<tr>
<td>SQLProcedureColumns</td>
</tr>
<tr>
<td>SQLProcedures</td>
</tr>
<tr>
<td>SQLSpecialColumns</td>
</tr>
<tr>
<td>SQLStatistics</td>
</tr>
<tr>
<td>SQLTablePrivileges</td>
</tr>
<tr>
<td>SQLTables</td>
</tr>
<tr>
<td>SQLFreeStmt</td>
</tr>
<tr>
<td>SQLCloseCursor</td>
</tr>
<tr>
<td>SQLCancel</td>
</tr>
<tr>
<td>SQLCancelHandle</td>
</tr>
<tr>
<td>SQLEndTran</td>
</tr>
<tr>
<td>SQLDisconnect SQLFreeHandle</td>
</tr>
</tbody></table>
<h3 id="SQL-def"><a href="#SQL-def" class="headerlink" title="SQL_() def"></a>SQL_() def</h3><p>SQLAllocHandle<br>SQLBindCol<br>SQLBindParameter<br>SQLBrowseConnect<br>SQLBulkOperations<br>SQLCancel<br>SQLCancelHandle<br>SQLCloseCursor<br>SQLColAttribute<br>SQLColumnPrivileges<br>SQLColumns<br>SQLConnect<br>SQLCopyDesc<br>SQLDescribeCol<br>SQLDescribeParam<br>SQLDisconnect<br>SQLDriverConnect<br>SQLEndTran<br>SQLExecDirect<br>SQLExecute<br>SQLFetch<br>SQLFetchScroll<br>SQLFreeStmt<br>SQLFreeHandle<br>SQLForeignKeys<br>SQLGetConnectAttr<br>SQLGetCursorName<br>SQLGetDescField<br>SQLGetDescRec<br>SQLGetDiagField<br>SQLGetDiagRec<br>SQLGetData<br>SQLGetEnvAttr<br>SQLGetFunctions<br>SQLGetInfo<br>SQLGetStmtAttr<br>SQLGetTypeInfo<br>SQLMoreResults<br>SQLNativeSql<br>SQLNumParams<br>SQLNumResultCols<br>SQLParamData<br>SQLPrepare<br>SQLPrimaryKeys<br>SQLProcedureColumns<br>SQLProcedures<br>SQLPutData<br>SQLRowCount<br>SQLSetCursorName<br>SQLSetDescField<br>SQLSetDescRec<br>SQLSetEnvAttr<br>SQLSetConnectAttr<br>SQLSetPos<br>SQLSetStmtAttr<br>SQLSpecialColumns<br>SQLStatistics<br>SQLTables<br>SQLTablePrivileges</p>
<h3 id="SQL-标准接口"><a href="#SQL-标准接口" class="headerlink" title="SQL_()标准接口"></a>SQL_()标准接口</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 3.8</span></span><br><span class="line"><span class="comment">  @purpose : Mapped to SQLCancel if HandleType is</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLAllocHandle</span><span class="params">(SQLSMALLINT HandleType,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLHANDLE   InputHandle,</span></span></span><br><span class="line"><span class="params"><span class="function">    _Out_ SQLHANDLE* OutputHandlePtr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 1.0 API</span></span><br><span class="line"><span class="comment">  @purpose : binds application data buffers to columns in the result set</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN  SQL_API <span class="title">SQLBindCol</span><span class="params">(SQLHSTMT StatementHandle,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLUSMALLINT ColumnNumber, SQLSMALLINT TargetType,</span></span></span><br><span class="line"><span class="params"><span class="function">    _Inout_updates_opt_(_Inexpressible_(BufferLength)) SQLPOINTER TargetValue,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLLEN BufferLength, _Inout_opt_ SQLLEN* StrLen_or_Ind)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 2.0 API</span></span><br><span class="line"><span class="comment">  @purpose : binds a buffer to a parameter marker in an SQL statement.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLBindParameter</span><span class="params">( SQLHSTMT        hstmt,</span></span></span><br><span class="line"><span class="params"><span class="function">                                    SQLUSMALLINT    ipar,</span></span></span><br><span class="line"><span class="params"><span class="function">                                    SQLSMALLINT     fParamType,</span></span></span><br><span class="line"><span class="params"><span class="function">                                    SQLSMALLINT     fCType,</span></span></span><br><span class="line"><span class="params"><span class="function">                                    SQLSMALLINT     fSqlType,</span></span></span><br><span class="line"><span class="params"><span class="function">                                    SQLULEN         cbColDef,</span></span></span><br><span class="line"><span class="params"><span class="function">                                    SQLSMALLINT     ibScale,</span></span></span><br><span class="line"><span class="params"><span class="function">                                    SQLPOINTER      rgbValue,</span></span></span><br><span class="line"><span class="params"><span class="function">                                    SQLLEN          cbValueMax,</span></span></span><br><span class="line"><span class="params"><span class="function">                                    SQLLEN* pcbValue)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  Cancel the query by opening another connection and using KILL when called</span></span><br><span class="line"><span class="comment">  from another thread while the query lock is being held. Otherwise, treat as</span></span><br><span class="line"><span class="comment">  SQLFreeStmt(hstmt, SQL_CLOSE).</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  @param[in]  hstmt  Statement handle</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  @return Standard ODBC result code</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLCancel</span><span class="params">(SQLHSTMT hstmt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 3.8</span></span><br><span class="line"><span class="comment">  @purpose : Mapped to SQLCancel if HandleType is</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLCancelHandle</span><span class="params">(SQLSMALLINT  HandleType,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLHANDLE    Handle)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 3.0 API</span></span><br><span class="line"><span class="comment">  @purpose : closes a cursor that has been opened on a statement</span></span><br><span class="line"><span class="comment">  and discards any pending results</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLCloseCursor</span><span class="params">(SQLHSTMT Handle)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLColAttribute</span><span class="params">(SQLHSTMT hstmt, SQLUSMALLINT column,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLUSMALLINT field, SQLPOINTER char_attr,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT char_attr_max, SQLSMALLINT* char_attr_len,</span></span></span><br><span class="line"><span class="params"><span class="function">#ifdef USE_SQLCOLATTRIBUTE_SQLLEN_PTR</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLLEN* num_attr</span></span></span><br><span class="line"><span class="params"><span class="function">#<span class="keyword">else</span></span></span></span><br><span class="line"><span class="params"><span class="function">    SQLPOINTER num_attr</span></span></span><br><span class="line"><span class="params"><span class="function">#endif</span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLColumns</span><span class="params">(SQLHSTMT hstmt, SQLCHAR* catalog, SQLSMALLINT catalog_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* schema, SQLSMALLINT schema_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* table, SQLSMALLINT table_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* column, SQLSMALLINT column_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> Drive_MANAGEMENT_</span></span><br><span class="line"><span class="comment">// Only implemented in the ODBC Driver Manager</span></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLCompleteAsync</span><span class="params">(SQLSMALLINT    HandleType,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLHANDLE      Handle,</span></span></span><br><span class="line"><span class="params"><span class="function">    _Out_ RETCODE* AsyncRetCodePtr)</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN  SQL_API <span class="title">SQLDataSources</span><span class="params">(SQLHENV EnvironmentHandle,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLUSMALLINT Direction, _Out_writes_opt_(BufferLength1) SQLCHAR* ServerName,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT BufferLength1, _Out_opt_ SQLSMALLINT* NameLength1Ptr,</span></span></span><br><span class="line"><span class="params"><span class="function">    _Out_writes_opt_(BufferLength2) SQLCHAR* Description, SQLSMALLINT BufferLength2,</span></span></span><br><span class="line"><span class="params"><span class="function">    _Out_opt_ SQLSMALLINT* NameLength2Ptr)</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN <span class="title">SQLDrivers</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLHENV         EnvironmentHandle,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLUSMALLINT    Direction,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* DriverDescription,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT     BufferLength1,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT* DescriptionLengthPtr,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* DriverAttributes,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT     BufferLength2,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT* AttributesLengthPtr)</span></span>&#123;&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// Drive_MANAGEMENT_</span></span></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLConnect</span><span class="params">(SQLHDBC hdbc, SQLCHAR* dsn, SQLSMALLINT dsn_len_in,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* user, SQLSMALLINT user_len_in,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* auth, SQLSMALLINT auth_len_in)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLCopyDesc</span><span class="params">(SQLHDESC SourceDescHandle, SQLHDESC TargetDescHandle)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLDescribeCol</span><span class="params">(SQLHSTMT hstmt, SQLUSMALLINT column,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* name, SQLSMALLINT name_max, SQLSMALLINT* name_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT* type, SQLULEN* size, SQLSMALLINT* scale,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT* nullable)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  Disconnect a connection.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  @param[in]  hdbc   Connection handle</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  @return  Standard ODBC return codes</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  @since ODBC 1.0</span></span><br><span class="line"><span class="comment">  @since ISO SQL 92</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLDisconnect</span><span class="params">(SQLHDBC hdbc)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  Commit or roll back the transactions associated with a particular</span></span><br><span class="line"><span class="comment">  database connection, or all connections in an environment.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  @param[in] HandleType      Type of @a Handle, @c SQL_HANDLE_ENV or</span></span><br><span class="line"><span class="comment">                             @c SQL_HANDLE_DBC</span></span><br><span class="line"><span class="comment">  @param[in] Handle          Handle to database connection or environment</span></span><br><span class="line"><span class="comment">  @param[in] CompletionType  How to complete the transactions,</span></span><br><span class="line"><span class="comment">                             @c SQL_COMMIT or @c SQL_ROLLBACK</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  @since ODBC 3.0</span></span><br><span class="line"><span class="comment">  @since ISO SQL 92</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLEndTran</span><span class="params">(SQLSMALLINT HandleType,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLHANDLE   Handle,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT CompletionType)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLExecDirect</span><span class="params">(SQLHSTMT hstmt, SQLCHAR* str, SQLINTEGER str_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 1.0 API</span></span><br><span class="line"><span class="comment">  @purpose : executes a prepared statement, using the current values</span></span><br><span class="line"><span class="comment">  of the parameter marker variables if any parameter markers</span></span><br><span class="line"><span class="comment">  exist in the statement</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLExecute</span><span class="params">(SQLHSTMT hstmt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 1.0 API</span></span><br><span class="line"><span class="comment">  @purpose : fetches the next rowset of data from the result set and</span></span><br><span class="line"><span class="comment">  returns data for all bound columns</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLFetch</span><span class="params">(SQLHSTMT StatementHandle)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 3.0 API</span></span><br><span class="line"><span class="comment">  @purpose : fetches the specified rowset of data from the result set and</span></span><br><span class="line"><span class="comment">  returns data for all bound columns. Rowsets can be specified</span></span><br><span class="line"><span class="comment">  at an absolute or relative position</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLFetchScroll</span><span class="params">(SQLHSTMT      StatementHandle,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT   FetchOrientation,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLLEN        FetchOffset)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 3.0 API</span></span><br><span class="line"><span class="comment">  @purpose : frees resources associated with a specific environment,</span></span><br><span class="line"><span class="comment">       connection, statement, or descriptor handle</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLFreeHandle</span><span class="params">(SQLSMALLINT HandleType,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLHANDLE   Handle)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 1.0 API</span></span><br><span class="line"><span class="comment">  @purpose : stops processing associated with a specific statement,</span></span><br><span class="line"><span class="comment">       closes any open cursors associated with the statement,</span></span><br><span class="line"><span class="comment">       discards pending results, or, optionally, frees all</span></span><br><span class="line"><span class="comment">       resources associated with the statement handle</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLFreeStmt</span><span class="params">(SQLHSTMT hstmt, SQLUSMALLINT fOption)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLGetConnectAttr</span><span class="params">(SQLHDBC hdbc, SQLINTEGER attribute, SQLPOINTER value,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLINTEGER value_max, SQLINTEGER* value_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLGetCursorName</span><span class="params">(SQLHSTMT hstmt, SQLCHAR* cursor, SQLSMALLINT cursor_max,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT* cursor_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 1.0 API</span></span><br><span class="line"><span class="comment">  @purpose : retrieves data for a single column in the result set. It can</span></span><br><span class="line"><span class="comment">  be called multiple times to retrieve variable-length data</span></span><br><span class="line"><span class="comment">  in parts</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLGetData</span><span class="params">(SQLHSTMT      StatementHandle,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLUSMALLINT  ColumnNumber,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT   TargetType,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLPOINTER    TargetValuePtr,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLLEN        BufferLength,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLLEN* StrLen_or_IndPtr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLGetDescField</span><span class="params">(SQLHDESC hdesc, SQLSMALLINT record, SQLSMALLINT field,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLPOINTER value, SQLINTEGER value_max, SQLINTEGER* value_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLGetDescRec</span><span class="params">(SQLHDESC hdesc, SQLSMALLINT record, SQLCHAR* name,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT name_max, SQLSMALLINT* name_len, SQLSMALLINT* type,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT* subtype, SQLLEN* length, SQLSMALLINT* precision,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT* scale, SQLSMALLINT* nullable)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLGetDiagField</span><span class="params">(SQLSMALLINT handle_type, SQLHANDLE handle,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT record, SQLSMALLINT field,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLPOINTER info, SQLSMALLINT info_max,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT* info_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLGetDiagRec</span><span class="params">(SQLSMALLINT handle_type, SQLHANDLE handle,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT record, SQLCHAR* sqlstate,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLINTEGER* native_error, SQLCHAR* message,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT message_max, SQLSMALLINT* message_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 3.0 API</span></span><br><span class="line"><span class="comment">  @purpose : returns the environment attributes</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN  SQL_API <span class="title">SQLGetEnvAttr</span><span class="params">(SQLHENV EnvironmentHandle,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLINTEGER Attribute, _Out_writes_(_Inexpressible_(BufferLength)) SQLPOINTER Value,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLINTEGER BufferLength, _Out_opt_ SQLINTEGER* StringLength)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">Get information on which functions are supported by the driver.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">@param[in]  hdbc      Handle of database connection</span></span><br><span class="line"><span class="comment">@param[in]  fFunction Function to check, @c SQL_API_ODBC3_ALL_FUNCTIONS,</span></span><br><span class="line"><span class="comment">or @c SQL_API_ALL_FUNCTIONS</span></span><br><span class="line"><span class="comment">@param[out] pfExists  Pointer to either one @c SQLUSMALLINT or an array</span></span><br><span class="line"><span class="comment">of SQLUSMALLINT for returning results</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">@since ODBC 1.0</span></span><br><span class="line"><span class="comment">@since ISO SQL 92</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLGetFunctions</span><span class="params">(SQLHDBC hdbc,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLUSMALLINT fFunction,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLUSMALLINT * pfExists)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 1.0 API</span></span><br><span class="line"><span class="comment">  @purpose : returns general information about the driver and </span></span><br><span class="line"><span class="comment">  data source associated with a connection</span></span><br><span class="line"><span class="comment">  @since ISO SQL 92</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLGetInfo</span><span class="params">(SQLHDBC hdbc, SQLUSMALLINT type, SQLPOINTER value,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT value_max, SQLSMALLINT* value_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLGetStmtAttr</span><span class="params">(SQLHSTMT hstmt, SQLINTEGER attribute, SQLPOINTER value,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLINTEGER value_max, SQLINTEGER* value_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLGetTypeInfo</span><span class="params">(SQLHSTMT hstmt, SQLSMALLINT type)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 1.0 API</span></span><br><span class="line"><span class="comment">  @purpose : returns the number of columns in a result set</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLNumResultCols</span><span class="params">(SQLHSTMT  hstmt, SQLSMALLINT* pccol)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 1.0 API</span></span><br><span class="line"><span class="comment">  @purpose : is used in conjunction with SQLPutData to supply parameter</span></span><br><span class="line"><span class="comment">  data at statement execution time</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLParamData</span><span class="params">(SQLHSTMT hstmt, SQLPOINTER* prbgValue)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLPrepare</span><span class="params">(SQLHSTMT hstmt, SQLCHAR* str, SQLINTEGER str_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLPrimaryKeys</span><span class="params">(SQLHSTMT hstmt,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* catalog, SQLSMALLINT catalog_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* schema, SQLSMALLINT schema_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* table, SQLSMALLINT table_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 1.0 API</span></span><br><span class="line"><span class="comment">  @purpose : allows an application to send data for a parameter or column to</span></span><br><span class="line"><span class="comment">  the driver at statement execution time. This function can be used</span></span><br><span class="line"><span class="comment">  to send character or binary data values in parts to a column with</span></span><br><span class="line"><span class="comment">  a character, binary, or data source specific data type.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLPutData</span><span class="params">(SQLHSTMT      hstmt,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLPOINTER    rgbValue,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLLEN        cbValue)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 1.0 API</span></span><br><span class="line"><span class="comment">  @purpose : returns the number of rows affected by an UPDATE, INSERT,</span></span><br><span class="line"><span class="comment">  or DELETE statement;an SQL_ADD, SQL_UPDATE_BY_BOOKMARK,</span></span><br><span class="line"><span class="comment">  or SQL_DELETE_BY_BOOKMARK operation in SQLBulkOperations;</span></span><br><span class="line"><span class="comment">  or an SQL_UPDATE or SQL_DELETE operation in SQLSetPos</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLRowCount</span><span class="params">(SQLHSTMT hstmt,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLLEN* pcrow)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLSetCursorName</span><span class="params">(SQLHSTMT hstmt, SQLCHAR* name, SQLSMALLINT name_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLSetDescField</span><span class="params">(SQLHDESC hdesc, SQLSMALLINT record, SQLSMALLINT field,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLPOINTER value, SQLINTEGER value_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLSetDescRec</span><span class="params">(SQLHDESC hdesc, SQLSMALLINT record, SQLSMALLINT type,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT subtype, SQLLEN length, SQLSMALLINT precision,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT scale, SQLPOINTER data_ptr,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLLEN* octet_length_ptr, SQLLEN* indicator_ptr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 3.0 API</span></span><br><span class="line"><span class="comment">  @purpose : sets the environment attributes</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLSetEnvAttr</span><span class="params">(SQLHENV    henv,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLINTEGER Attribute,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLPOINTER ValuePtr,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLINTEGER StringLength )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLSetStmtAttr</span><span class="params">(SQLHSTMT hstmt, SQLINTEGER attribute,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLPOINTER value, SQLINTEGER value_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLSpecialColumns</span><span class="params">(SQLHSTMT hstmt, SQLUSMALLINT type,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* catalog, SQLSMALLINT catalog_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* schema, SQLSMALLINT schema_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* table, SQLSMALLINT table_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLUSMALLINT scope, SQLUSMALLINT nullable)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLStatistics</span><span class="params">(SQLHSTMT hstmt,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* catalog, SQLSMALLINT catalog_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* schema, SQLSMALLINT schema_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* table, SQLSMALLINT table_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLUSMALLINT unique, SQLUSMALLINT accuracy)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLTablePrivileges</span><span class="params">(SQLHSTMT hstmt,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* catalog, SQLSMALLINT catalog_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* schema, SQLSMALLINT schema_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* table, SQLSMALLINT table_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLTables</span><span class="params">(SQLHSTMT hstmt,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* catalog, SQLSMALLINT catalog_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* schema, SQLSMALLINT schema_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* table, SQLSMALLINT table_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* type, SQLSMALLINT type_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="SQL-扩展接口"><a href="#SQL-扩展接口" class="headerlink" title="SQL_()扩展接口"></a>SQL_()扩展接口</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  Discover and enumerate the attributes and attribute values required to</span></span><br><span class="line"><span class="comment">  connect.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  @return Always returns @c SQL_ERROR, because the driver does not support this.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  @since ODBC 1.0</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLBrowseConnect</span><span class="params">(SQLHDBC hdbc, SQLCHAR* in, SQLSMALLINT in_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* out, SQLSMALLINT out_max, SQLSMALLINT* out_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 1.0 API</span></span><br><span class="line"><span class="comment">  @purpose : performs bulk insertions and bulk bookmark operations,</span></span><br><span class="line"><span class="comment">  including update, delete, and fetch by bookmark</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLBulkOperations</span><span class="params">(SQLHSTMT  Handle, SQLSMALLINT Operation)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLColumnPrivileges</span><span class="params">(SQLHSTMT hstmt,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* catalog, SQLSMALLINT catalog_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* schema, SQLSMALLINT schema_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* table, SQLSMALLINT table_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* column, SQLSMALLINT column_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 1.0 API</span></span><br><span class="line"><span class="comment">  @purpose : returns the description of a parameter marker associated</span></span><br><span class="line"><span class="comment">  with a prepared SQL statement</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLDescribeParam</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLHSTMT           hstmt,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLUSMALLINT       ipar,</span></span></span><br><span class="line"><span class="params"><span class="function">    _Out_opt_</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT* pfSqlType,</span></span></span><br><span class="line"><span class="params"><span class="function">    _Out_opt_</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLULEN* pcbParamDef,</span></span></span><br><span class="line"><span class="params"><span class="function">    _Out_opt_</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT* pibScale,</span></span></span><br><span class="line"><span class="params"><span class="function">    _Out_opt_</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLSMALLINT* pfNullable)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLDriverConnect</span><span class="params">(SQLHDBC hdbc, SQLHWND hwnd, SQLCHAR* in, SQLSMALLINT in_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* out, SQLSMALLINT out_max, SQLSMALLINT* out_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLUSMALLINT completion)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLForeignKeys</span><span class="params">(SQLHSTMT hstmt,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* pk_catalog, SQLSMALLINT pk_catalog_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* pk_schema, SQLSMALLINT pk_schema_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* pk_table, SQLSMALLINT pk_table_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* fk_catalog, SQLSMALLINT fk_catalog_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* fk_schema, SQLSMALLINT fk_schema_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* fk_table, SQLSMALLINT fk_table_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 1.0 API</span></span><br><span class="line"><span class="comment">  @purpose : determines whether more results are available on a statement</span></span><br><span class="line"><span class="comment">  containing SELECT, UPDATE, INSERT, or DELETE statements and,</span></span><br><span class="line"><span class="comment">  if so, initializes processing for those results</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLMoreResults</span><span class="params">(SQLHSTMT hStmt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLNativeSql</span><span class="params">(SQLHDBC hdbc, SQLCHAR* in, SQLINTEGER in_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* out, SQLINTEGER out_max, SQLINTEGER* out_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 1.0 API</span></span><br><span class="line"><span class="comment">  @purpose : returns the number of parameter markers.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLNumParams</span><span class="params">(SQLHSTMT hstmt, SQLSMALLINT* pcpar)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLProcedureColumns</span><span class="params">(SQLHSTMT hstmt,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* catalog, SQLSMALLINT catalog_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* schema, SQLSMALLINT schema_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* proc, SQLSMALLINT proc_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* column, SQLSMALLINT column_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API</span></span><br><span class="line"><span class="function"><span class="title">SQLProcedures</span><span class="params">(SQLHSTMT hstmt,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* catalog, SQLSMALLINT catalog_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* schema, SQLSMALLINT schema_len,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLCHAR* proc, SQLSMALLINT proc_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  @type    : ODBC 1.0 API</span></span><br><span class="line"><span class="comment">  @purpose : sets the cursor position in a rowset and allows an application</span></span><br><span class="line"><span class="comment">  to refresh data in the rowset or to update or delete data in</span></span><br><span class="line"><span class="comment">  the result set</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function">SQLRETURN SQL_API <span class="title">SQLSetPos</span><span class="params">(SQLHSTMT hstmt, SQLSETPOSIROW irow,</span></span></span><br><span class="line"><span class="params"><span class="function">    SQLUSMALLINT fOption, SQLUSMALLINT fLock)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Python-接口"><a href="#Python-接口" class="headerlink" title="Python 接口"></a>Python 接口</h2><p>Note, pyodbc contains C++ extensions so you will need a suitable C++ compiler on your computer to install pyodbc, for all operating systems. </p>
<p>It implements the DB API 2.0 specification but is packed with even more Pythonic convenience.</p>
<h2 id="Recording-1"><a href="#Recording-1" class="headerlink" title="Recording"></a>Recording</h2><p>1）C++环境连接请求信息管理：提供嵌入式数据库对C++环境协议连接请求信息的管理功能，包括对用户身份认证信息、用户连接信息句柄、用户指令信息、指令关联信息、客户端套接字、客户端地址数据、客户端接口信息、客户端监听等信息的管理；<br>2）C++环境连接池信息管理：提供嵌入式数据库对C++环境连接池信息的管理功能，包括对连接池队列、传输连接句柄、连接池信息、连接目标信息、连接池缓冲区信息、服务端套接字、服务端地址、服务端接口信息、服务端监听的管理；<br>3）C++事务逻辑信息管理：提供嵌入式数据库对C++事务逻辑信息的管理功能，包括对事务操作句柄、事务队列维护信息、事务关联信息、事务隔离级别的管理；<br>4）C++日志文件信息管理：提供嵌入式数据库对C++日志文件信息的管理功能，包括对远程日志文件信息、日志文件偏移量、远程日志数据更新信息的管理；<br>5）C++数据库标识信息管理：提供嵌入式数据库对C++数据库标识信息的管理功能，包括对数据库版本数据、数据库功能数据、数据库状态数据、数据库接口数据、数据库缓冲区句柄的管理；<br>6）C++句柄信息管理：提供嵌入式数据库对C++句柄信息的管理功能，包括对传输缓冲区句柄、驱动连接缓冲区句柄、日志文件缓冲区句柄、绑定偏移量的管理；<br>7）C++结果集格式转换信息管理：提供嵌入式数据库对C++结果集格式转换信息的管理功能，包括对结果集数据、结果集格式规则数据、结果集目标地址数据、结果集关联数据等信息的管理；<br>8）C++异常处理信息管理：提供嵌入式数据库对C++异常处理信息的管理功能，包括对异常信息数据、异常结构信息数据、异常处理数据、异常权限关联数据的管理。<br>9）C++接口一致性信息管理：提供嵌入式数据库对C++接口一致性信息的管理功能，包括对适配接口信息、接口规则信息、C++规则数据、C++版本数据、C++接口数据、接口一致性级别信息的管理。<br>10）C++用户身份验证信息的管理：提供嵌入式数据库对C++用户身份验证信息的管理功能，包括对远程用户名称数据、远程用户名口令数据、远程用户权限信息、远程用户关联信息的管理。<br>11）C++联合接口与协议规则的管理：提供嵌入式数据库对C++联合接口与协议规则的管理功能，包括对SQL版本信息、SQL规则数据、用户目标环境信息、功能支持信息、SQL解析定位信息、SQL一致性级别信息、类型指示器信息的管理。<br>12）C++连接驱动的管理：提供嵌入式数据库对C++连接驱动的管理功能，包括对    驱动版本信息、驱动运行状态信息、驱动内存信息、驱动连接句柄、驱动连接队列、驱动指令数据、驱动事务队列、驱动线程信息、驱动一致性级别的管理。</p>
<h2 id="代码存留"><a href="#代码存留" class="headerlink" title="代码存留"></a>代码存留</h2><pre><code>//if (inet_addr(&quot;0.0.0.0&quot;) == INADDR_ANY)
//    printf(&quot;0.0.0.0 is equal\n&quot;);//right

//return create_user_db();
</code></pre>
<h1 id="EOF"><a href="#EOF" class="headerlink" title="EOF"></a>EOF</h1>
    </article>
    <!-- license -->
    
        <div class="license-wrapper">
            <p>Author：<a href="http://itheds.github.io">iTheds</a>
            <p>Link：<a href="http://itheds.github.io/work/%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE%E6%A8%A1%E5%9D%97%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A3.html">http://itheds.github.io/work/%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE%E6%A8%A1%E5%9D%97%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A3.html</a>
            <p>Publish date：<a href="http://itheds.github.io/work/%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE%E6%A8%A1%E5%9D%97%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A3.html">June 13th 2021, 12:00:00 am</a>
            <p>Update date：<a href="http://itheds.github.io/work/%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE%E6%A8%A1%E5%9D%97%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A3.html">March 31st 2022, 9:42:37 am</a>
            <p>License：本文采用<a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc/4.0/">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可</p>
        </div>
    
    <!-- paginator -->
    <ul class="post-paginator">
        <li class="next">
            
        </li>
        <li class="previous">
            
        </li>
    </ul>
    <!-- comment -->
    
        <div class="post-comment">
            <!-- 来必力 City 版安装代码 -->


            

            

            

            <!-- utteranc评论 -->


            <!-- partial('_partial/comment/changyan') -->
            <!--PC版-->


            
            

            

        </div>
    
    <!-- timeliness note -->
    <!-- idea from: https://hexo.fluid-dev.com/posts/hexo-injector/#%E6%96%87%E7%AB%A0%E6%97%B6%E6%95%88%E6%80%A7%E6%8F%90%E7%A4%BA -->
    
    <!-- Mathjax -->
    
</main>

                <!-- profile -->
                
            </div>
            <footer class="footer footer-unloaded">
    <!-- social  -->
    
        <div class="social">
            
    
        
            
                <a href="mailto:itheds@163.com" class="iconfont-archer email" title=email ></a>
            
        
    
        
            
                <a href="//github.com/iTheds" class="iconfont-archer github" target="_blank" title=github></a>
            
        
    
        
            
                <span class="iconfont-archer wechat" title=wechat>
                    
                    <img class="profile-qr" src="/assets/example_qr.png" />
                </span>
            
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


        </div>
    
    <!-- powered by Hexo  -->
    <div class="copyright">
        <span id="hexo-power">Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></span><span class="iconfont-archer power">&#xe635;</span><span id="theme-info">theme <a href="https://github.com/fi3ework/hexo-theme-archer" target="_blank">Archer</a></span>
    </div>
    <!-- website approve for Chinese user -->
    
    <!-- 不蒜子  -->
    
        <div class="busuanzi-container">
            
             
                <span id="busuanzi_container_site_pv">PV: <span id="busuanzi_value_site_pv"></span> :)</span>
            
        </div>
    	
</footer>

        </div>
        <!-- toc -->
        
        <!-- sidebar -->
        <div class="sidebar sidebar-hide">
    <ul class="sidebar-tabs sidebar-tabs-active-0">
        <li class="sidebar-tab-archives"><span class="iconfont-archer">&#xe67d;</span><span class="tab-name">Archive</span></li>
        <li class="sidebar-tab-tags"><span class="iconfont-archer">&#xe61b;</span><span class="tab-name">Tag</span></li>
        <li class="sidebar-tab-categories"><span class="iconfont-archer">&#xe666;</span><span class="tab-name">Cate</span></li>
    </ul>
    <div class="sidebar-content sidebar-content-show-archive">
        <div class="sidebar-panel-archives">
    <!-- 在 ejs 中将 archive 按照时间排序 -->
    
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    
    
    
    
    <div class="total-and-search">
        <div class="total-archive">
        Total : 84
        </div>
        <!-- search  -->
        
    </div>
    
    <div class="post-archive">
    
        
            
            
            <div class="archive-year"> 2023 </div>
            <ul class="year-list">
            
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/27</span>
            <a class="archive-post-title" href="/2023/03/27/big_data&flow_calculation/">大数据和流式计算</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/10</span>
            <a class="archive-post-title" href="/2023/03/10/docker_use/">Docker Used Node</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/02</span>
            <a class="archive-post-title" href="/2023/03/02/skiplist_analyze/">Skiplist Analyze</a>
        </li>
    
        
            
            
                
                </ul>
            
            <div class="archive-year"> 2022 </div>
            <ul class="year-list">
            
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/07</span>
            <a class="archive-post-title" href="/2022/11/07/Mysql_Read_record/">Mysql_Read_record</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/03</span>
            <a class="archive-post-title" href="/2022/11/03/Berkeley_Read_record/">Berkeley_Read_record</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/28</span>
            <a class="archive-post-title" href="/2022/09/28/Debian%E7%B3%BB%E7%BB%9F%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/">Debian系统使用笔记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">08/18</span>
            <a class="archive-post-title" href="/2022/08/18/Python%E5%92%8CCpp%E6%B7%B7%E5%90%88%E7%BC%96%E7%A8%8B/">Python和Cpp混合编程</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">08/10</span>
            <a class="archive-post-title" href="/2022/08/10/TDengine%E5%AD%A6%E4%B9%A0%E6%9C%AD%E8%AE%B0/">TDengine学习札记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/10</span>
            <a class="archive-post-title" href="/2022/03/10/%E5%AD%A6%E4%B9%A0%E6%96%B9%E5%BC%8F%E7%AD%96%E5%88%92%E6%96%B9%E6%A1%88/">学习方式策划方案</a>
        </li>
    
        
            
            
                
                </ul>
            
            <div class="archive-year"> 2021 </div>
            <ul class="year-list">
            
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/17</span>
            <a class="archive-post-title" href="/2021/11/17/QT%E5%AD%A6%E4%B9%A0%E6%9C%AD%E8%AE%B0/">QT学习札记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">08/25</span>
            <a class="archive-post-title" href="/2021/08/25/Lib%E5%92%8CDLL%E8%AF%A6%E8%A7%A3/">Lib和DLL详解</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">08/11</span>
            <a class="archive-post-title" href="/2021/08/11/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B002/">算法学习笔记02</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">07/24</span>
            <a class="archive-post-title" href="/2021/07/24/%E5%8C%97%E4%BA%AC%E9%A3%9F%E5%BA%97%E6%94%B6%E5%BD%95/">北京食店收录</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">07/08</span>
            <a class="archive-post-title" href="/2021/07/08/Cmake%E5%92%8Cbison/">Cmake和bison</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/17</span>
            <a class="archive-post-title" href="/2021/06/17/mysql%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/">Mysql源码以及Mysql ODBC源码分析</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/04</span>
            <a class="archive-post-title" href="/2021/06/04/%E5%AD%97%E4%BD%93%E7%89%88%E6%9D%83%E9%97%AE%E9%A2%98/">字体版权问题</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/04</span>
            <a class="archive-post-title" href="/2021/06/04/%E9%9D%9E%E7%BA%BF%E6%80%A7%E6%BB%A4%E6%B3%A2%E7%AE%97%E6%B3%95/">EKF，UKF，CKF，PF非线性滤波算法</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/28</span>
            <a class="archive-post-title" href="/2021/05/28/DB_%E6%9C%8D%E5%8A%A1%E5%99%A8_%E6%A1%A5%E9%80%BB%E8%BE%91/">DB 服务器 桥逻辑</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/25</span>
            <a class="archive-post-title" href="/2021/05/25/SQLite/">SQLite</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/18</span>
            <a class="archive-post-title" href="/2021/05/18/Cppwindows%E6%9C%8D%E5%8A%A1/">C/C++windows服务</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/13</span>
            <a class="archive-post-title" href="/2021/05/13/ODBC%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93/">ODBC连接数据库</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/06</span>
            <a class="archive-post-title" href="/2021/05/06/ODBC%E7%90%86%E8%AE%BA/">ODBC理论</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/06</span>
            <a class="archive-post-title" href="/2021/05/06/ODBC%E7%BC%96%E7%A8%8B/">ODBC编程</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/05</span>
            <a class="archive-post-title" href="/2021/05/05/%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88/">智能指针</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/28</span>
            <a class="archive-post-title" href="/2021/04/28/B%E6%A0%91%E5%AD%A6%E4%B9%A0%E6%9C%AD%E8%AE%B0/">B树学习札记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/27</span>
            <a class="archive-post-title" href="/2021/04/27/Rust%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0%E6%89%8E%E8%AE%B0/">Rust编程学习扎记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/16</span>
            <a class="archive-post-title" href="/2021/04/16/C++%E5%9F%BA%E6%9C%AC%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E6%80%9D%E8%B7%AF/">C++基本项目开发思路</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/13</span>
            <a class="archive-post-title" href="/2021/04/13/TCP%E4%B8%8EUDP%E5%AE%9E%E7%8E%B0/">TCP与UDP实现</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/11</span>
            <a class="archive-post-title" href="/2021/04/11/%E5%BC%80%E5%8F%91%E8%80%85%E6%89%8B%E5%86%8C/">开发者手册</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/10</span>
            <a class="archive-post-title" href="/2021/04/10/CRC%E5%BE%AA%E7%8E%AF%E5%86%97%E4%BD%99%E6%A0%A1%E9%AA%8C/">CRC循环冗余校验</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/10</span>
            <a class="archive-post-title" href="/2021/04/10/CCpp%E9%97%AE%E9%A2%98%E6%94%B6%E5%BD%95%E4%B8%8E%E7%9F%A5%E8%AF%86%E7%A7%AF%E7%B4%AF/">C/C++问题收录与知识积累</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/08</span>
            <a class="archive-post-title" href="/2021/03/08/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%90%86%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E6%89%8B%E5%86%8C/">数据库理论系统学习手册</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/08</span>
            <a class="archive-post-title" href="/2021/03/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0/">计算机网络具体实现</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/05</span>
            <a class="archive-post-title" href="/2021/03/05/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%85%A5%E9%97%A8%E8%B7%AF%E7%BA%BF/">计算机入门路线(应用篇)</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/06</span>
            <a class="archive-post-title" href="/2021/02/06/Nodejs%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Nodejs学习笔记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/03</span>
            <a class="archive-post-title" href="/2021/02/03/Apache%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/">Apache系统管理</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/03</span>
            <a class="archive-post-title" href="/2021/02/03/Linux%E4%B8%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E4%B8%8E%E5%BB%BA%E5%BA%93/">Linux下数据库管理与建库</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/03</span>
            <a class="archive-post-title" href="/2021/02/03/Linux%E5%91%BD%E4%BB%A4%E6%80%BB%E9%9B%86%E4%B8%8E%E7%B3%BB%E7%BB%9F/">Linux命令总集与系统</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/03</span>
            <a class="archive-post-title" href="/2021/02/03/%E7%BC%96%E7%A0%81%E6%80%BB%E7%BB%93/">编码总集</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/21</span>
            <a class="archive-post-title" href="/2021/01/21/%E8%BD%AF%E4%BB%B6%E6%80%BB%E9%9B%86/">软件总集以及网站</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/20</span>
            <a class="archive-post-title" href="/2021/01/20/%E8%8B%B1%E8%AF%AD%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">英语学习笔记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/05</span>
            <a class="archive-post-title" href="/2021/01/05/Ps%E5%AD%A6%E4%B9%A0%E6%9C%AD%E8%AE%B0/">Ps学习札记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/05</span>
            <a class="archive-post-title" href="/2021/01/05/php%E8%BF%9B%E9%98%B6%E6%89%8B%E5%86%8C/">php进阶手册</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/05</span>
            <a class="archive-post-title" href="/2021/01/05/%E5%B7%A5%E5%85%B7%E6%80%BB%E7%BB%93/">工具总结</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/05</span>
            <a class="archive-post-title" href="/2021/01/05/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0/">数据结构具体实现</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/05</span>
            <a class="archive-post-title" href="/2021/01/05/git_use_page/">git 及 github 使用手册</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/02</span>
            <a class="archive-post-title" href="/2021/01/02/Linux%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/">Linux网络编程笔记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/02</span>
            <a class="archive-post-title" href="/2021/01/02/String%E5%87%BD%E6%95%B0/">C/C++ String函数</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/02</span>
            <a class="archive-post-title" href="/2021/01/02/VS%E5%BC%80%E5%8F%91%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/">VS C++开发使用笔记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/02</span>
            <a class="archive-post-title" href="/2021/01/02/%E5%90%84%E8%BD%AF%E4%BB%B6%E5%8F%8Awindows%E6%93%8D%E4%BD%9C%E5%BF%AB%E6%8D%B7%E9%94%AE%E6%80%BB%E9%9B%86/">各软件及windows操作快捷键总集</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/02</span>
            <a class="archive-post-title" href="/2021/01/02/CCpp%E8%BF%9B%E9%98%B6/">C/C++进阶</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/02</span>
            <a class="archive-post-title" href="/2021/01/02/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B001/">算法学习笔记01</a>
        </li>
    
        
            
            
                
                </ul>
            
            <div class="archive-year"> 2018 </div>
            <ul class="year-list">
            
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/06</span>
            <a class="archive-post-title" href="/2018/12/06/%E7%BA%BF%E7%A8%8B%E4%B8%8E%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/">线程与进程管理</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/10</span>
            <a class="archive-post-title" href="/2018/10/10/Linux%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8oo/">Linux网络应用</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/30</span>
            <a class="archive-post-title" href="/2018/09/30/%E5%AE%BD%E5%AD%97%E8%8A%82%E6%B3%A8%E5%85%A5oo/">宽字节注入</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/13</span>
            <a class="archive-post-title" href="/2018/09/13/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8Foo/">正则表达式</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/05</span>
            <a class="archive-post-title" href="/2018/09/05/%E9%AB%98%E9%A2%91%E8%AF%8D%E6%B1%87%E8%A1%A8oo/">高频词汇表</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">08/30</span>
            <a class="archive-post-title" href="/2018/08/30/%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E4%B9%8B%E9%87%8D%E8%A3%85%E7%B3%BB%E7%BB%9F%E8%AE%B0oo/">系统管理之重装系统记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">08/29</span>
            <a class="archive-post-title" href="/2018/08/29/%E6%89%93%E5%8D%B0%E6%9C%BA%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8Coo/">打印机问题及使用方法</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">08/20</span>
            <a class="archive-post-title" href="/2018/08/20/%E6%96%87%E4%BB%B6%E5%A4%B4%E6%96%87%E4%BB%B6%E5%B0%BE%E6%80%BB%E7%BB%93oo/">文件类型以及分析手册</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">08/11</span>
            <a class="archive-post-title" href="/2018/08/11/Linux%E4%B8%8B%E9%85%8D%E7%BD%AE%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83(lamp%E5%92%8Cshadowsocks%E3%80%81lnmp)oo/">Linux下配置服务器环境(lamp和shadowsocks、lnmp)</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">07/25</span>
            <a class="archive-post-title" href="/2018/07/25/wiki%E6%90%AD%E5%BB%BA%E7%AC%94%E8%AE%B0oo/">Wiki搭建</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">07/25</span>
            <a class="archive-post-title" href="/2018/07/25/AntDesignPro/">RESTful架构与Ant design Pro开发项目</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">07/15</span>
            <a class="archive-post-title" href="/2018/07/15/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%B6%89%E7%8C%8Eoo/">大数据涉猎</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">07/07</span>
            <a class="archive-post-title" href="/2018/07/07/%E9%80%9A%E4%BF%A1%E5%8E%9F%E7%90%86oo/">通信原理</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/18</span>
            <a class="archive-post-title" href="/2018/06/18/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E4%B9%8B%E9%A2%84%E6%B5%8B%E5%88%86%E6%9E%90%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/">编译原理之预测分析器的设计与实现</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/18</span>
            <a class="archive-post-title" href="/2018/06/18/%E9%A1%B9%E7%9B%AE%E5%B0%8F%E6%86%A9/">项目小憩</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/18</span>
            <a class="archive-post-title" href="/2018/06/18/%E7%AE%97%E6%B3%95%E5%AF%BC%E8%AE%BAoo/">算法导论</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/11</span>
            <a class="archive-post-title" href="/2018/06/11/SQL%E8%AF%AD%E5%8F%A5%E6%9C%AD%E8%AE%B0oo/">SQL语句札记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/11</span>
            <a class="archive-post-title" href="/2018/06/11/%E5%9F%BA%E4%BA%8EMIPS%E6%8C%87%E4%BB%A4%E9%9B%86%E7%9A%8432%E4%BD%8D%E4%BA%94%E7%BA%A7%E6%B5%81%E6%B0%B4%E7%BA%BFCPU%E8%AE%BE%E8%AE%A1oo/">基于MIPS指令集的32位五级流水线CPU设计</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/04</span>
            <a class="archive-post-title" href="/2018/06/04/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86oo/">计算机组成原理</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/04</span>
            <a class="archive-post-title" href="/2018/06/04/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E4%B9%8B%E6%89%AB%E6%8F%8Foo/">攻防安全之扫描</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/25</span>
            <a class="archive-post-title" href="/2018/05/25/%E5%88%9B%E6%96%B0%E5%88%9B%E4%B8%9A%E9%A1%B9%E7%9B%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/">创新创业项目库管理系统</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/23</span>
            <a class="archive-post-title" href="/2018/05/23/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E4%B9%8B%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90oo/">编译原理之语法分析程序</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/20</span>
            <a class="archive-post-title" href="/2018/05/20/WebCollector%E7%88%AC%E8%99%AB%E4%B8%8EHbase/">WebCollector爬虫与Hbase</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/18</span>
            <a class="archive-post-title" href="/2018/05/18/%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86oo/">加密解密的艺术</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/15</span>
            <a class="archive-post-title" href="/2018/05/15/Linux%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AEoo/">配置Linux环境</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/12</span>
            <a class="archive-post-title" href="/2018/05/12/SQL%E6%B3%A8%E5%85%A5/">SQL注入札记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/12</span>
            <a class="archive-post-title" href="/2018/05/12/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98oo/">数据库中文乱码问题</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/12</span>
            <a class="archive-post-title" href="/2018/05/12/%E7%BD%91%E9%A1%B5%E7%8A%B6%E6%80%81%E6%89%8B%E5%86%8C/">网页状态提示说明</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/10</span>
            <a class="archive-post-title" href="/2018/05/10/hexo%E6%9C%AD%E8%AE%B0/">hexo 札记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/08</span>
            <a class="archive-post-title" href="/2018/05/08/DOS%E5%91%BD%E4%BB%A4%E6%89%AB%E6%8F%8F%E6%8C%87%E5%AE%9A%E7%AB%AF%E5%8F%A3/">DOS命令扫描指定端口并查看端口号</a>
        </li>
    
        
            
            
                
                </ul>
            
            <div class="archive-year"> 2017 </div>
            <ul class="year-list">
            
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/18</span>
            <a class="archive-post-title" href="/2017/10/18/Markdown%E8%AF%AD%E6%B3%95%E8%AF%B4%E6%98%8Eoo/">markdown语法</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">07/25</span>
            <a class="archive-post-title" href="/2017/07/25/JS%E8%BF%9B%E9%98%B6oo/">JS进阶</a>
        </li>
    
    </div>
</div>

        <div class="sidebar-panel-tags">
    <div class="sidebar-tags-name">
        
            <span class="sidebar-tag-name" data-tags="RESTful">
                <span class="iconfont-archer">&#xe606;</span>
                RESTful
            </span>
        
            <span class="sidebar-tag-name" data-tags="ant design Pro">
                <span class="iconfont-archer">&#xe606;</span>
                ant design Pro
            </span>
        
            <span class="sidebar-tag-name" data-tags="linux">
                <span class="iconfont-archer">&#xe606;</span>
                linux
            </span>
        
            <span class="sidebar-tag-name" data-tags="JAVA">
                <span class="iconfont-archer">&#xe606;</span>
                JAVA
            </span>
        
            <span class="sidebar-tag-name" data-tags="-- Mysql">
                <span class="iconfont-archer">&#xe606;</span>
                -- Mysql
            </span>
        
            <span class="sidebar-tag-name" data-tags="python">
                <span class="iconfont-archer">&#xe606;</span>
                python
            </span>
        
            <span class="sidebar-tag-name" data-tags="-- RTthread">
                <span class="iconfont-archer">&#xe606;</span>
                -- RTthread
            </span>
        
            <span class="sidebar-tag-name" data-tags="rust">
                <span class="iconfont-archer">&#xe606;</span>
                rust
            </span>
        
            <span class="sidebar-tag-name" data-tags="Linux">
                <span class="iconfont-archer">&#xe606;</span>
                Linux
            </span>
        
            <span class="sidebar-tag-name" data-tags="信息安全">
                <span class="iconfont-archer">&#xe606;</span>
                信息安全
            </span>
        
            <span class="sidebar-tag-name" data-tags="-- C/C++">
                <span class="iconfont-archer">&#xe606;</span>
                -- C/C++
            </span>
        
            <span class="sidebar-tag-name" data-tags="apache">
                <span class="iconfont-archer">&#xe606;</span>
                apache
            </span>
        
            <span class="sidebar-tag-name" data-tags="-- work -- cmake">
                <span class="iconfont-archer">&#xe606;</span>
                -- work -- cmake
            </span>
        
            <span class="sidebar-tag-name" data-tags="JS">
                <span class="iconfont-archer">&#xe606;</span>
                JS
            </span>
        
            <span class="sidebar-tag-name" data-tags="mysql">
                <span class="iconfont-archer">&#xe606;</span>
                mysql
            </span>
        
            <span class="sidebar-tag-name" data-tags="SQL">
                <span class="iconfont-archer">&#xe606;</span>
                SQL
            </span>
        
            <span class="sidebar-tag-name" data-tags="Markdown">
                <span class="iconfont-archer">&#xe606;</span>
                Markdown
            </span>
        
            <span class="sidebar-tag-name" data-tags="hexo">
                <span class="iconfont-archer">&#xe606;</span>
                hexo
            </span>
        
            <span class="sidebar-tag-name" data-tags="git">
                <span class="iconfont-archer">&#xe606;</span>
                git
            </span>
        
            <span class="sidebar-tag-name" data-tags="-- C/C++ -- ODBC">
                <span class="iconfont-archer">&#xe606;</span>
                -- C/C++ -- ODBC
            </span>
        
            <span class="sidebar-tag-name" data-tags="-- C/C++ -- QT">
                <span class="iconfont-archer">&#xe606;</span>
                -- C/C++ -- QT
            </span>
        
            <span class="sidebar-tag-name" data-tags="-- work">
                <span class="iconfont-archer">&#xe606;</span>
                -- work
            </span>
        
            <span class="sidebar-tag-name" data-tags="wiki">
                <span class="iconfont-archer">&#xe606;</span>
                wiki
            </span>
        
            <span class="sidebar-tag-name" data-tags="参考文档">
                <span class="iconfont-archer">&#xe606;</span>
                参考文档
            </span>
        
            <span class="sidebar-tag-name" data-tags="Hadoop">
                <span class="iconfont-archer">&#xe606;</span>
                Hadoop
            </span>
        
            <span class="sidebar-tag-name" data-tags="免密登入">
                <span class="iconfont-archer">&#xe606;</span>
                免密登入
            </span>
        
            <span class="sidebar-tag-name" data-tags="--">
                <span class="iconfont-archer">&#xe606;</span>
                --
            </span>
        
            <span class="sidebar-tag-name" data-tags="数据库">
                <span class="iconfont-archer">&#xe606;</span>
                数据库
            </span>
        
            <span class="sidebar-tag-name" data-tags="Mysql">
                <span class="iconfont-archer">&#xe606;</span>
                Mysql
            </span>
        
            <span class="sidebar-tag-name" data-tags="文件类型">
                <span class="iconfont-archer">&#xe606;</span>
                文件类型
            </span>
        
            <span class="sidebar-tag-name" data-tags="编译原理">
                <span class="iconfont-archer">&#xe606;</span>
                编译原理
            </span>
        
            <span class="sidebar-tag-name" data-tags="C/C++">
                <span class="iconfont-archer">&#xe606;</span>
                C/C++
            </span>
        
            <span class="sidebar-tag-name" data-tags="计划">
                <span class="iconfont-archer">&#xe606;</span>
                计划
            </span>
        
            <span class="sidebar-tag-name" data-tags="-- English">
                <span class="iconfont-archer">&#xe606;</span>
                -- English
            </span>
        
            <span class="sidebar-tag-name" data-tags="计算机组成原理">
                <span class="iconfont-archer">&#xe606;</span>
                计算机组成原理
            </span>
        
            <span class="sidebar-tag-name" data-tags="-- Berkeley">
                <span class="iconfont-archer">&#xe606;</span>
                -- Berkeley
            </span>
        
            <span class="sidebar-tag-name" data-tags="算法">
                <span class="iconfont-archer">&#xe606;</span>
                算法
            </span>
        
            <span class="sidebar-tag-name" data-tags="lamp">
                <span class="iconfont-archer">&#xe606;</span>
                lamp
            </span>
        
            <span class="sidebar-tag-name" data-tags="lnmp">
                <span class="iconfont-archer">&#xe606;</span>
                lnmp
            </span>
        
            <span class="sidebar-tag-name" data-tags="CPU">
                <span class="iconfont-archer">&#xe606;</span>
                CPU
            </span>
        
            <span class="sidebar-tag-name" data-tags="Socket网络编程">
                <span class="iconfont-archer">&#xe606;</span>
                Socket网络编程
            </span>
        
            <span class="sidebar-tag-name" data-tags="algorithm">
                <span class="iconfont-archer">&#xe606;</span>
                algorithm
            </span>
        
            <span class="sidebar-tag-name" data-tags="ocker">
                <span class="iconfont-archer">&#xe606;</span>
                ocker
            </span>
        
            <span class="sidebar-tag-name" data-tags="大数据">
                <span class="iconfont-archer">&#xe606;</span>
                大数据
            </span>
        
    </div>
    <div class="iconfont-archer sidebar-tags-empty">&#xe678;</div>
    <div class="tag-load-fail" style="display: none; color: #ccc; font-size: 0.6rem;">
        缺失模块，请参考主题文档进行安装配置：https://github.com/fi3ework/hexo-theme-archer#%E5%AE%89%E8%A3%85%E4%B8%BB%E9%A2%98
    </div> 
    <div class="sidebar-tags-list"></div>
</div>

        <div class="sidebar-panel-categories">
    <div class="sidebar-categories-name">
    
    </div>
    <div class="iconfont-archer sidebar-categories-empty">&#xe678;</div>
    <div class="sidebar-categories-list"></div>
</div>

    </div>
</div>

        <!-- site-meta -->
        <script>
    var siteMetaRoot = "/"
    if (siteMetaRoot === "undefined") {
        siteMetaRoot = '/'
    }
    var siteMeta = {
        url: "http://itheds.github.io",
        root: siteMetaRoot,
        author: "iTheds"
    }
</script>

        <!-- import experimental options here -->
        <!-- Custom Font -->


        <!-- main func -->
        <script src="/scripts/main.js?v=20211217"></script>
        <!-- dark mode -->
        <script src="/scripts/dark.js?v=20211217"></script>
        <!-- fancybox -->
        <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" defer></script>
        <!-- algolia -->
        
        <!-- busuanzi -->
        
            <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>
        
        <!-- CNZZ -->
        
        <!-- async load share.js -->
        
        <!-- mermaid -->
        
    </body>
</html>
